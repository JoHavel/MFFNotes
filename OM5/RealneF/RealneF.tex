\documentclass[12pt]{article}					% Začátek dokumentu
\usepackage{../../MFFStyle}					    % Import stylu



\begin{document}

% 03. 10. 2022
\section*{Úvod}
\begin{poznamka}[Organizační úvod]
	K ukončení předmětu je třeba pouze udělat zkoušku: 2 příklady na definice, 2 věta-důkaz.

	Literatura:
	\begin{itemize}
		\item L.C. Evans, R.F. Gariepy, Measure Theory and Fine Properties of Functions, CRC Press, Boca Raton, 1992.
		\item W. Rudin, Analýza v reálném a komplexním oboru, Academia, 2003.
	\end{itemize}
\end{poznamka}

\section{Differentiation of measures}
\subsection{Covering theorems}

\begin{definice}[Vitali cover]
	Let $A \subset ®R^n$ we say that a system ©V consisting of closed balls from $®R^n$ forms Vitali cover of $A$, if
	$$ \forall x \in A\ \forall \epsilon > 0 \exists B \in ©V: x \in B \land \diam B < \epsilon. $$
\end{definice}

\begin{definice}[Notation]
	$\lambda_n$ is Lebesgue measure on $®R^n$. $\lambda_n^*$ is outer Lebesgue measure on $®R^n$. If $B \subset ®R^n$ is a ball and $\alpha > 0$, then $\alpha · B$ stands for the ball, which is concentric with B and with $\alpha$-times greater radius than $B$.
\end{definice}

\begin{veta}[Vitali]
	Let $A \subset ®R^n$ and ©V be a system of closed balls forming a Vitali cover of $A$. Then there exists a countable disjoint subsystem $©A \subseteq ©V$ such that $\lambda_n(A \setminus \bigcup ©A) = 0$.

	\begin{dukazin}
		First assume that A is bounded. Take an open bounded set $G \subset ®R^n$ with $A \subset G$. We set
		$$ ©V^* = \{B \in ©V | V \subset G\}. $$
		Then $©V^*$ is a Vitali cover of $A$. If there exists a finite disjoint subsystem of $©V^*$ covering $A$, we are done. So Assume that there is no such subsystem. Mathematical induction:

		First step: We set $s_1 = \sup\{\diam B | B \in ©V^*\}$. We choose a ball $B_1 \in ©V^*$ such that $B_1 > \frac{1}{2} s_1$.

		$k$-th step: Suppose that we have already constructed balls $B_1, B_2, …, B_{k-1}$. We set
		$$ s_k = \sup\{\diam B | B \in ©V^* \land B \cap \bigcup_{i=1}^{k-1} B_i = \O\}. $$
		We find $B_k \in ©V^*$ such that $\diam B_k > \frac{1}{2} s_k > 0$, $B_k \cap \bigcup_{i=1}^{k-1} B_i = \O$.

		Let $©A = \{B_k | k \in ®N\}$. It is disjoint, it is countable, it holds $\lambda_n(A \setminus \bigcup ©A) = 0$:

		$$ \sum_{i=1}^∞ \lambda_n (B_i) = \lambda_n(\bigcup_{i=1}^∞ B_i) ≤ \lambda_n(G) < ∞ \implies $$
		$$ \implies \lim_{i \rightarrow ∞} = 0 \implies \lim_{i \rightarrow ∞} \diam(B_i) = 0 \implies \lim_{i \rightarrow ∞} s_i = 0. $$
		We show that
		$$ \forall x \in A \setminus \bigcup ©A\ \forall i \in ®N \exists j \in ®N, j > i: x \in 5 · B_j $$
		$$ \Leftrightarrow A \setminus \bigcup ©A \subseteq \bigcup_{j = i + 1}^∞ 5·B_j $$
		Take $x \in A \setminus \bigcup ©A$ and $i \in ®N$. Denote $\delta = \dist(x, \bigcup_{k=1}^i B_k) > 0$. There exists $B \in ©V^*$ such that $x \in B$ and $\diam B < \delta$ $\implies$ $B \cap \bigcup_{k=1}^i B_k = \O$. Then we have $\diam B > s_p$ for some $p \in ®N$.

		Therefore there exists $j > i$ with $B_j \cap B ≠ \O$. Let $j$ be the smallest number with this property. Then we have $s_j ≥ \diam B$ since $B \cap \bigcup_{l=1}^{j-1} B_l = \O$. Further we have $\diam B_j > \frac{1}{2} s_j ≥ \frac{1}{2} \diam B$ $\implies 2 \diam B_j ≥ \diam B$ This implies that $x \in B \subset 5·B_j$.

		$$ \lambda_n^*(A \setminus \bigcup A) ≤ \lambda_n \(\bigcup_{j=i+1}^∞ 5·B_j\) ≤ \sum_{j=i+1}^∞ \lambda_n (5·B_j) = \sum_{j=i+1}^∞ 5^n \lambda_n(B_j) = 5^n · \sum_{j = i+1}^∞ \lambda_n(B_j) \rightarrow 0 \implies \lambda_n(A \setminus \bigcup ©A) = 0. $$

		
		General case ($A$ not bounded): Let $(G_j)_{j=1}^∞$ be a sequence of disjoint open sets such that $\lambda_n(®R^n \setminus \bigcup_{j=1}^∞ G_j) = 0$. We define $©V_j = \{B \in ©V_i, B \subseteq G_j\}$. $©V_j$ is a Vitali cover of $A \cap G_j$ $\implies \exists ©A_j \subseteq ©V_j$ countable disjoint and $\lambda_n(A \cap G_j \setminus \bigcup A_j) = 0$. We set $©A = \bigcup_{j=1}^∞ ©A_j$. $©A$ is countable, disjoint and $\lambda_n(A \setminus \bigcup ©A) = 0$.
	\end{dukazin}
\end{veta}

% 10. 10. 2022

\begin{definice}
	We say that a measure $\mu$ on $®R^n$ satisfies Vitali theorem, if for every Vitaly cover ©V of $M \subseteq ®R^n$ there exists a disjoint countable $©A \subset ©V$ with $\mu(M \setminus \bigcup ©A) = 0$.
\end{definice}

\begin{poznamka}
	If $\mu$ satisfies Vitali theorem and $\nu \ll \mu$, then $\nu$ satisfies Vitali theroem.
\end{poznamka}

\begin{veta}
	Set $E \subset ®R^n$ be Lebesgue measurable and ©S be a finite system of closed balls covering $E$. Then there exists a disjoint system $©L \subset ®S$ such that $\lambda_n(E) ≤ 3^n · \sum_{B \in ©L} \lambda_n(B)$.

	\begin{dukazin}
		WLOG $©S ≠ \O$. SUppose $B_1 \in ©S$ with maximal radius among balls from ©S.

		Suppose that we have already constructed $B_1, …, B_{k-1} \in ©S$. If possible, choose $B_k \in ©S$ disjoint with $\bigcup_{j < k} B_j$ and with maximal radius among balls satisfying this property.

		We set $©L = \{B_1, …, B_N\}$. We show $E \subseteq \bigcup_{B \in ©L} 3*B = \bigcup_{i=1}^N 3*B_i$. $x \in E$. Find $B \in ©S$ with $x \in B$. Find smallest $k$ with $B \cap B_k ≠ \O$. This means $\rad (B) ≤ \rad (B_k)$ $\implies$ $x \in B \subseteq 3*B_k$.

		Now $\lambda_n(E) ≤ \lambda_n\(\bigcup_{i=1}^N 3*B_i\) ≤ \sum_{i=1}^N \lambda_n(3*B_i) = 3^n \sum_{i=1}^N \lambda_n(B_i)$.
	\end{dukazin}
\end{veta}

\begin{veta}[Besicovitch theorem]
	For each $n \in ®N$ there exists $N \in ®N$ with the following property:

	If $A \subset ®R^n$ and $\Delta: A \rightarrow (0, ∞)$ is a bounded function, then there exist sets $A_1$, …, $A_N$ $\subseteq A$ such that

	\begin{itemize}
		\item $\{\overline{B}(x, \Delta x) | x \in A_j\}$ is disjoint for every $j \in [N]$;
		\item $A \subset \bigcup\{\overline{B}(x, \Delta x) | x \in \bigcup_{i=1}^N A_i\}$.
	\end{itemize}

	\begin{dukazin}[Case $A$ is bounded]
		Let $R := \sup_A \Delta$. Choose $B_1 := \overline{B}(a_1, \Delta(a_1))$ such that $a_1 \in A$ and $r_1 := \Delta(a_1) > \frac{3}{4}R$.

		Assume that we already constructed $B_1, …, B_{j-1}$, $j ≥ 2$. $B_{j-1} = \overline{B}(a_{j-1}, \Delta(a_{j-1})) = \overline{B}(a_{j-1}, r_{j-1})$. Let $F_j := A \setminus \bigcup_{i=1}^{j-1} B_i$. If $F_j = \O$ we set $J := j$. If not $B_j := \overline{B}(a_j, \Delta(a_j)) = \overline{B}(a_j, r_j)$, $a_j \in F_j$ and $r_j > \frac{3}{4} \sup_{F_j} \Delta$.

		If $F_j ≠ \O$ for every $j \in ®N$, then we set $J := ∞$. So we have $(B_j)_{j < J}$. If $J < ∞$, then we covered $A$. „If $J = ∞$, then $A \subset \bigcup_{j < J} B_j$“:

		„$\lim_{j \rightarrow ∞} r_j = 0$“: because $A$ is bounded
		$$ \|a_i - a_j\| ≥ r_i = \frac{1}{3} r_i + \frac{2}{3} r_i > \frac{1}{3} r_i + \frac{1}{2} r_j > \frac{1}{3} r_i + \frac{1}{3} r_j = \frac{1}{3}(r_i + r_j) \implies \frac{1}{3} * B_i \cap \frac{1}{3} * B_j = \O. $$
		$\{\frac{1}{3}B_j | j < J\}$ is a disjoint family $\implies \sum_{j=1}^∞ \lambda_n(\frac{1}{3} * B_j) < ∞$.

		If $A \in A \setminus \bigcup_{j=1}^∞ B_j$, then $a \in \bigcap_{j=1}^∞ F_j$. We find $j_0 \in ®N$ with $r_{j_0} ≤ \frac{3}{4} \Delta(a)$. \lightning.

		Fix $k < J$. We set $I = \{i < k | B_i \cap B_k ≠ \O\}$, $I_1 = \{i < k_i | B_i \cap B_k ≠ \O \land r_i < 10 r_k\}$, $I_2 = \{i < k_i | B_i \cap B_k \land r_i ≥ 10 r_k\}$. The estimate of $I_1$: „We have $\frac{1}{3} B_i \subseteq 15 * B_k$ for every $i \in I_1$“: Take $x \in \frac{1}{3} * B_i$. Then
		$$ \|x - a_k\| ≤ \|x - a_j\| + \|a_i - a_k\| ≤ \frac{1}{3} r_i + r_i + r_k ≤ \frac{10}{3} r_k + 10 r_k + r_k ≤ 15 r_k $$

		$$ \lambda_n(\frac{1}{3} * B_i) = \lambda(\overline{B}(0, 1))·(\frac{1}{3}r_i)^n ≥ \lambda_n(\overline{B}(0, 1)) · (\frac{1}{3}·\frac{3}{4} r_k)^n = \lambda_n(\overline{B}(0, 1))·\frac{1}{4^n} r_k^n = $$
		$$ = \frac{1}{60^n} \lambda_n(15 * B_k) \implies |I_1| ≤ 60^n. $$

% 17. 10. 2022 Canceled
% 24. 10. 2022 Other topic? (I wasn't there.)
% 31. 10. 2022

		Denote $b_i = a_i - a_k$, vector between centers of balls. Take a family $\{Q_m | 1 ≤ m ≤ (22n)^n\}$ of closed cubes with edge length $\frac{1}{11n}$ which cover $[-1, 1]^n$. We claim that „for each $1≤m≤(22n)^n$ there is at most one $i \in I_2$ with $\frac{b_i}{\|b_i\|} \in Q_m$“:
		$$ i,j \in I_2, i < j, \left\| \frac{b_i}{\|b_i\|} - \frac{b_j}{\|b_j\|} \right\| ≤ \frac{1}{11}. $$
		We have $r_i < \|b_i\| ≤ r_i + r_k$ and $r_j < \|b_j\| ≤ r_j + r_k$. So $\left| \|b_i\| - \|b_j\| \right| ≤ |r_i - r_j| + r_k$. $\|b_j\| ≤ r_j + r_k ≤ r_j + \frac{1}{10} r_j = \frac{11}{10}r_j$.
		$$ \|a_i - a_j\| = \|b_i - b_j\| ≤ \left\|b_i - \frac{\|b_j\|}{\|b_i\|}b_i\right\| + \left\|\frac{\|b_j\|}{\|b_i\|} b_i - b_j\right\| ≤ \left| \|b_i\| - \|b_j\| \right| + \frac{1}{11} \|b_j\| ≤ $$
		$$ ≤ |r_i - r_j| + r_k + \frac{1}{11}·\frac{11}{10}r_j ≤ |r_i - r_j| + \frac{1}{5} r_j. $$
		We distinguish two cases:
		$$ (1) r_i > r_j: \|a_i - a_j\| ≤ r_i - \frac{4}{5}r_j < r_i; $$
		$$ (2) r_i ≤ r_j: \|a_i - a_j\| ≤ - r_i + r_j + \frac{1}{5} r_j = -r_i + \frac{6}{5} r_j ≤ - r_i + \frac{8}{5}r_i < r_i \implies a_j \in \overline{B}(a_i, r_i) = B_i, \text{\lightning}. $$

		Choose $N > (60)^n + (22n)^n$. $B_i \in A_i$, $i \in [N]$. From previous every ball intersect at most $(60)^n + (22n)^n$ previous balls, so we always have $A_i$ where we can put ball.
	\end{dukazin}

	\begin{dukazin}[Case $A$ is not bounded]
		Let $A^l := A \cap \{x \in ®R^n | 3(l - 1) R ≤ \|x\| < 3l R\}$, $l \in ®N$. We get $A_i^l$, $i \in [M]$ by the previous. $A_i = \bigcup_{l = 2k + 1} A_i^l$, $A_{M + i} = \bigcup_{l = 2k} A_i^l$.
	\end{dukazin}
\end{veta}

\begin{definice}[Radon measure]
	Let $P$ be a locally compact Hausdorff space and ©S a $\sigma$-algebra of subsets of $P$. We say that $\mu$ is a Radon measure if
	\begin{itemize}
		\item ©S contains all Borel sets,
		\item $\mu(K) < ∞$ for every compact $K \in P$,
		\item $\mu(G) = \sup\{\mu(K) | K \subset G \text{ is compact}\}$ for every $G \subset P$ open,
		\item $\mu(A) = \inf\{\mu(K) | A \subset G \text{ is open}\}$ for every $A \in ©S$,
		\item $\mu$ is complete.
	\end{itemize}
\end{definice}

\begin{lemma}
	Let $\mu$ be a measure on $X$ and $\{A_j\}_{j=1}^∞$ be an increasing sequence of subsets of $X$. Then $\lim \mu^*(A_j) = \mu^*\(\bigcup_{j=1}^∞ A_j\)$.
\end{lemma}

\begin{veta}
	Let $\mu$ be a Radon measure on $®R^n$ and ©F be a collection of closed balls in $®R^n$. Let A denote the set of centers of balls in ©F. Assume $\inf\{r | B(a, r) \in ©F\} = 0$ for each $a \in A$. Then there exists a countable disjoint system $©G \subset ©F$ such that $\mu(A \setminus \bigcup ©G) = 0$.

	\begin{dukazin}[The case $\mu^*(A) < ∞$]
		Let $N \in ®N$ be the constant from Besicovitch theorem. We find $\Theta$ such that $1 - \frac{1}{N} < \Theta < 1$. Claim: „Let $U \subset ®R^n$ be an open set. Then there exists a disjoint finite system $©H \subset ©F$ such that $\bigcup ©H \subset U$ and
		$$ \mu^*((A \cap U) \setminus \bigcup ©H) ≤ \Theta · \mu^*(A \cap U). $$
		“

		$$ ©F_1 \subset ®F, ®F_1 = \{B \in ®F, \diam B < 1 \land B \subset U\} $$
		By theorem above there exists disjoint families $©G_1, …, ©G_n \subset ©F_1$ such $A \cap U \subseteq \bigcup_{i=1}^N \bigcup ©G_i$. Thus $\mu^*(A \cap U) ≤ \sum_{i=1}^N \mu^*(A \cap U \cap \bigcup ©G_i)$. Consequently, there exists an integer $1 ≤ j ≤ N$ such that
		$$ \mu^*(A \cap U \cap \bigcup ©G_j) ≥ \frac{1}{N} \mu^*(A \cap U) > (1 - \Theta) \mu^*(A \cap U). $$
		Using lemma above we find a finite system $©H \subset ©G_j$ such that
		$$ \mu^*(A \cap U \cap ©H) > (1 - \Theta) \mu^*(A \cap U). $$
		The set $\bigcup ©H$ is $\mu$-measurable
		$$ \mu^*(A \cap U) = \mu^*(A \cap U \cap \bigcup ©H) + \mu(A \cap U \setminus \bigcup ©H) ≥ (1 - \Theta) \mu^*(A \cap U) + \mu(A \cap U \setminus \bigcup ©H). $$

		Set $U_1 = ®R^n$. Using claim we find a disjoint finite system $©H_1 \subset ©F$ such that $\bigcup ©H_1 \subset U_1$ and $\mu^*(A \cap U_1 \setminus \bigcup ©H_1) ≤ \Theta \mu^*(A \cap U_1)$. Continuing by induction we construct a sequence of open sets $(U_j)$ and a sequence of disjoint finite families $(©H_j)$ such that $U_{j+1} = U_j \setminus \bigcup ©H_j$, $\bigcup ©H_j \subset U_j$, $©H_j \subset ©F$ and
		$$ \mu^*(A \cap U_{j+1}) = \mu^*((A \cap U_j) \setminus \bigcup ©H_j) ≤ \Theta \mu^*(A \cap U_j). $$
		Since $\mu^*(A) < ∞$ we get $\mu^*(A \setminus \bigcup_{j=1}^∞ \cup ©H_j) = 0$, since $\mu^*(A \cap U_{j+1}) ≤ \Theta^j \mu^*(A)$.
		$$ ©G = \bigcup_{j=1}^∞ ©H_j $$
	\end{dukazin}

	\begin{dukazin}[General case]
		We find a sequence $(G_j)$ of open sets, which are disjoint and $\mu(®R^n \setminus \bigcup_{j=1}^∞ G_j) = 0$.
	\end{dukazin}
\end{veta}

\subsection{Differentiation of measures}
\begin{poznamka}[Notation]
	$©B$ is set of closed balls in $®R^n$.
\end{poznamka}

\begin{definice}[Derivative of measure]
	Let $\mu$ and $\nu$ be measures on $®R^n$ and $x \in ®R^n$. Then we define
	\begin{itemize}
		\item upper derivative of $\nu$ with respect to $\mu$ and $x$ by
			$$ \overline{D}(\nu, \mu, x) = \lim_{r \rightarrow 0_+} \sup_{B \in ©B, \diam B < r} \frac{\nu(B)}{\mu(B)}, $$
			if the term at the right side is well-defined;
		\item lower derivative of $\nu$ with respect to $\mu$ and $x$ by
			$$ \underline{D}(\nu, \mu, x) = \lim_{r \rightarrow 0_+} \inf_{B \in ©B, \diam B < r} \frac{\nu(B)}{\mu(B)}, $$
			if the term at the right side is well-defined;
		\item derivative of $\nu$ with respect to $\mu$ and $x$ by
			$$ D(\nu, \mu, x) = \overline{D}(\nu, \mu, x) = \underline{D}(\nu, \mu, x), $$
			if they are equal.
	\end{itemize}
\end{definice}

\begin{veta}
	Let $\nu$ and $\mu$ be Radon measures and $®R^n$ and $\mu$ satisfy Vitali theorem. Then $\overline{D}(\nu, \mu, x)$ and $\underline{D}(\nu, \mu, x)$ exist $\mu$-almost everywhere.

	\begin{dukazin}
		$M := \{x \in ®R | \nexists\overline{D}(\nu, \mu, x)\}$ and $©V := \{B \in ©B | \mu(B) = 0\}$, $©V$ is a Vitali cover of $M$. Then there exists a disjoint countable family $©A \subset ©V$ such that $\mu(M \setminus \bigcup ©A) = 0$.
		$$ \mu(\bigcup ©A) = \sum_{B \in ©A} \mu(B) = 0 \implies \mu(M) = 0. $$
	\end{dukazin}
\end{veta}

\begin{veta}
	Let $\mu$ and $\nu$ be Radon measures, $\mu$ satisfy Vitali theorem, $C \in (0, ∞)$, and $M \subset ®R^n$.
	\begin{itemize}
		\item If for every $x \in M$ we have $\overline{D}(\nu, \mu, x) > c$, then $\nu^*(M) ≥ c \mu^*(M)$.
		\item If for every $x \in M$ we have $\underline{D}(\nu, \mu, x) < c$, then there exists $H \subset M$ such that $\mu(M \setminus H) = 0$ and $\nu^*(H) ≤ c \mu^*(M)$.
	\end{itemize}
	
	\begin{dukazin}[1.]
		We choose $\epsilon > 0$. There exists an open set $G \subset ®R^n$ with $M \subset G$ and $\nu(G) ≤ \nu^*(M) + \epsilon$. We define
		$$ ©V := \{B \in ©B | B \subset G, \nu(B) > c·\mu(B)\}. $$
		The family ©V is a Vitali cover of $M$. There exists a disjoint countable family $©A \subset ©V$ with $\mu(M \setminus \bigcup ©A) = 0$. Then we have
		$$ \nu^*(M) + \epsilon ≥ \nu(G) ≥ \nu(\bigcup ©A) = \sum_{B \in ©A} \nu(B) ≤ \sum_{B \in ©A} c \mu(B) = c \mu(\bigcup ©A) ≥ c \mu^*(M) $$
	\end{dukazin}

% 14. 11. 2022

	\begin{dukazin}[2.]
		For every $k \in ®N$ we find an open set $G_k > M$ and $\mu(G_k) ≤ \mu^*(M) + \frac{1}{k}$.
		$$ ©V_k := \{B \in ©B | B \subset G_k \land \nu(B) < c·\mu(B)\}. $$

		TODO(1 řádek)!!! a countable disjoint system $©A_k \subset ©V_k$ such that $\mu(M \setminus \bigcup ©A_k) = 0$. Set $H_k = M \cap \bigcup ©A_k$. Then $\mu(M \setminus H_k) = 0$, $H_k \subset M$. We have
		$$ \nu^*(H_k) ≤ \nu(\bigcup ©A_k) = \sum_{B \in ©A_k} \nu(B) ≤ c \sum_{B \in ©A_k} \mu(B) = c \mu(\bigcup ©A_k) ≤ c·\mu(G_k) ≤ c(\mu^*(M) + \frac{1}{k}). $$
		$$ H := \bigcap H_k: \qquad \nu^*(H) ≤ c\mu^*(M). $$
		$$ \mu(M \setminus H) ≤ \sum_{k=1}^∞ \underbrace{\mu(M \setminus H_k)}_{=0} = 0. $$
	\end{dukazin}
\end{veta}

\begin{veta}
	Let $\nu$ and $\mu$ be Radon measures on $®R^n$ and $mu$ satisfies Vitali theorem. Then $D(\nu, \mu, x)$ exists finite $\mu$ almost everywhere.

	\begin{dukazin}
		$$ D := \{x \in ®R^n | D(\nu, \mu, x) \in [0, ∞)\} $$
		$$ N_1 := \{x \in ®R^n | \overline{D}(\nu, \mu, x) \text{ is not defined}\}, \qquad N_3 = \{x \in ®R^n | \overline{D}(\nu, \mu, x) = ∞\}, $$
		$$ N_2 := \{x \in ®R^n | \underline{D}(\nu, \mu, x) \text{ is not defined}\}, \qquad N_4 = \{x \in ®R^n | \underline{D}(\nu, \mu, x) = ∞\}. $$

		We already showed that $\mu(N_1) = \mu(N_2) = 0$.
		$$ A_k := \{x \in ®R | \overline{D}(\nu, \mu, x) > k\}, k \in ®N $$
		$$ A(r, s) = \{x \in ®R^n | \underline{D}(\nu, \mu, x) < s < r < \overline{D}(\nu, \mu, x)\}, \qquad s, r \in ®Q^+, s < r $$
		$$ N_3 = \bigcap_{k=1}^∞ A_k, \qquad N_4 = \bigcup \{A(r, s), r, s \in ®Q^+, s < r\} $$

		„$\mu(N_3) = 0$“: Choose $Q \subset N_3$ bounded. By previous theorem (1.) $k \mu^*(Q) ≤ \nu^*(Q)$ for every $k \in ®N$.
		$$ \implies \mu^*(Q) = 0 \implies \mu^*(N_3) = 0 \implies \mu(N_3) = 0. $$

		„$\mu(N_4) = 0$“: It is sufficient to prove $\mu(A(r, s)) = 0$ for any $r, s \in ®Q^+$, $r > s$. Choose $Q \subset A(r, s)$ bounded. By previous theorem (2.) there exists $H \subset Q$ such that $\mu(Q \setminus H) = 0$ and $\nu^*(H) ≤ s \mu^*(Q)$.
		Vy previous theorem (1.) we have $r \mu^*(H) ≤ \nu^*(H)$.
		$$ r \mu^*(Q) = r \mu^*(H) ≤ \nu^*(H) ≤ s \mu^*(Q) < ∞. $$
		$$ \implies \mu^*(Q) = 0 \implies \mu(A(r, s)) = 0. $$
	\end{dukazin}
\end{veta}

\begin{lemma}
	Let $\nu$ and $\mu$ be as before. Then the mappings $x \mapsto \overline{D}(\nu, \mu, \lambda)$, $x \mapsto \underline{D}(\nu, \mu, \lambda)$ are $\mu$-measurable.

	\begin{dukazin}
		$$ M(r, \alpha) = \{x \in ®R^n | \exists B \in ©B: \diam B < r, x \in B, \frac{\nu(B)}{\mu(B)} < \alpha\}, \qquad r > 0, \alpha > 0. $$
		„$M(r, \alpha)$ is open“: Assume $x \in M(r, \alpha)$ we find $y \in ®R^n$, $s > 0$ such that $x \in \overline{B}(y, s)$, $2s < r$,
		$$ \frac{\nu(\overline{B}(y, s))}{\mu(\overline{B}(y, s))}. $$
		We find $s' > s$, $2s' < r$, $\frac{\nu(\overline{B}(y, s'))}{\mu(\overline{B}(y, s'))} < \alpha$. Then $B(y, s') \subset M(r, \alpha)$.

		$$ D := \{x \in ®R^n | \underline{D}(\nu, \mu, x) \text{ exists finite}\}. $$
		For every $x \in D$ we have
		$$ \underline{D}(\nu, \mu, x) < \alpha \Leftrightarrow \exists \tau \in ©Q, \tau > 0\ \forall r \in ©Q, r > 0\ \exists B \in ©B: \diam B < r, x \in B, \frac{\nu(B)}{\mu(B)} < \alpha - \tau, $$
		$$ \underline{D}(\nu, \mu, x) < \alpha \Leftrightarrow \exists \tau \in ©Q, \tau > 0\ \forall r \in ©Q, r > 0: x \in M(r, \alpha - \tau). $$
		$\{x \in ®R^n | \underline{D}(\nu, \mu, x) < \alpha\}$ is $\mu$-measurable.
	\end{dukazin}
\end{lemma}

\begin{veta}
	Let $\nu$ and $\mu$ be as before, $\nu \ll \mu$, and $B \subset ®R^n$ is $\mu$-measurable. Then we have $\nu(B) = \int_B D(\nu, \mu, x) d\mu(x)$.

	\begin{dukazin}
		Let $B \subset ®R^n$ be $\mu$-measurable. Choose $\beta > 1$.
		$$ B_k := \{x \in B | \beta^k < D(\nu, \mu, x) ≤ \beta^{k + 1}\}, k \in ®Z. $$
		$$ N := \{x \in B | D(\nu, \mu, x) = 0\}. $$
		$$ \mu(B \setminus (\bigcup_{k=-∞}^∞ B_k \cup N)) = 0. $$
		$$ \int_B D(\nu, \mu, x) d\mu(x) = \sum_{k=-∞}^∞ \int_{B_k} D(\nu, \mu, x) d\mu(x) ≤ $$
		$$ ≤ \sum_{k=-∞}^∞ \beta^{k+1} \mu(B_k) = \sum_{k=-∞}^∞ \beta^{k + 1} · \beta^{-k} \nu(B_k) = \beta · \sum_{k=-∞}^∞ \nu(B_k) ≤ \beta · \nu(B). $$
		% $$ \beta^k \mu(B_k) < \nu(B_k) $$
		$$ \beta \rightarrow 1_+: \int_B D(\nu, \mu, x) d\mu(x) ≤ \nu(B). $$

		Using absolute continuity: $\nu(B \setminus (\bigcup_{k=-∞}^∞ B_k \cup N)) = 0$. We use theorem above to get $\nu^*(Q) ≤ C \mu^*(Q)$ for any $c > 0$ and $Q \subset N$ bounded. $\implies \nu*(Q) = 0 \implies \nu(N) = 0$.
		$$ \int_B D(\nu, \mu, x) d\mu(x) = \sum_{k=-∞}^∞ \int_{B_k} D(\nu, \mu, x) d\mu(x) ≥ $$
		$$ ≥ \sum_{k=-∞}^∞ \beta^k · \mu(B_k) ≥ \sum_{k=-∞}^∞ \beta^k · \beta^{-(k+1)} \nu(B_k) = \frac{1}{\beta}·\nu(B). $$
		$$ \beta \rightarrow 1_+: \int_B D(\nu, \mu, x) d\mu(x) ≥ \nu(B). $$	
	\end{dukazin}
\end{veta}

% 21. 11. 2022

\subsection{Lebesgue points}
\begin{definice}[$©L_{loc}^1$]
	Let $\mu$ be a Radon measure on $®R^n$. The symbol $©L_{loc}^1(\mu)$ denotes the set of all functions $f: ®R^n \rightarrow ®C$, which are $\mu$-measurable and for every $x \in ®R^n$ there exists $r > 0$ such that $\int_{B(x, r)} |f| d\mu < ∞$.
\end{definice}

\begin{definice}[Lebesgue point]
	Let $f \in ©L_{loc}^1(\mu)$. We say that $x \in ®R^n$ is Lebesgue point of $f$ at $x$ (with respect to $\mu$) if we have
	$$ \forall \epsilon > 0\ \exists \delta > 0\ \forall B \in ®B, x \in B, \diam B < \delta: \frac{\int_B |f(t) - f(x)| d\mu(t)}{\mu(B)} < \epsilon. $$
\end{definice}

\begin{veta}
	Let $\mu$ be a Radon measure on $®R^n$ satisfying Vitali theorem and $f \in ©L_{loc}^1(\mu)$. Then $\mu$-almost every point are Lebesgue point of $f$ (with respect to $\mu$).

	\begin{dukazin}
		WLOG $\mu(®R^n) < ∞$ and $f \in ©L^1(\mu)$. Set $(C_k)_{k=1}^∞$ be a sequence of closed balls in ®C forming a basis of topology in ®C. We define
		$$ g_k(x) := \dist(f(x), C_k), \qquad x \in ®R^n, k \in ®N. $$
		The function $g_k$ is non-negative, $\mu$-measurable, $g_k \in ©L^1(\mu)$. Set $\nu_k = \int g_k d\mu$. We set $P_k := \{x \in f^{-1}(C_k) | \neg(D(\nu_k, \mu, x) = 0)\}$. We have $g_k = 0$ on $f^{-1}(C_k)$ $\implies$ $\mu(P_k) = 0$.
		$$ \nu_k = \int D(\nu_k, \mu, x) d\mu(x). $$
		For $x \in ®R^n \setminus \bigcup_{k=1}^∞ P_k$ we choose $\epsilon > 0$ and we find $C_k$ such that $f(x) \in C_k$ and $C_k \subset B(f(x), \frac{1}{2} \epsilon)$. For any $t \in ®R^n$ it holds $|f(t) - f(x)| ≤ g_k(t) + \epsilon$.

		$x \in f^{-1}(C_k) \implies D(\nu_k, \mu, x) = 0$. We find $\delta > 0$ such that
		$$ \forall B \in ®B, x \in V, \diam B < \delta: \frac{\nu_k(B)}{\mu(B)} = \frac{\int_B g_k d\mu}{\mu(B)} < \epsilon. $$

		Let $B \in ®B$, $x \in B$ and $\diam B < \delta$. We get
		$$ \frac{\int_B |f(t) - f(x)| d\mu(t)}{\mu(B)} ≤ \frac{\int_B (g_k(t) + \epsilon) d\mu(t)}{\mu(B)} < \epsilon + \epsilon = 2\epsilon. $$
	\end{dukazin}
\end{veta}

\subsection{Density theorem}

\begin{definice}
	Let $\mu$ be a measure on $®R^n$, $A \subset ®R^n$ be $\mu$-measurable and $x \in ®R^n$. We say that $c \in [0, 1]$ is $\mu$-density of $A$ at $x$ if
	$$ \forall \epsilon > 0\ \exists \delta > 0\ \forall B \in ©B, x \in B, \diam B < \delta: \left|\frac{\mu(A \cap B)}{\mu(B)} - c\right|<\epsilon. $$
\end{definice}

\begin{veta}[Density theorem]
	Let $\mu$ be a Radon measure on $®R^n$ satisfying Vitali theorem and $M \subset ®R^n$ be $\mu$-measurable. Then
	$$ d_\mu(x, M) = 1 \text{ for almost every } x \in M, $$
	$$ d_\mu(x, M) = 0 \text{ for almost every } x \in ®R^n\setminus M. $$
	
	\begin{dukazin}
		Define $\nu$ on $®R^n$ by $\nu(A) = \mu(A \cap M)$ for every $\mu$-measurable $A \subset ®R^n$. Thus we have $d_\mu(M, X) = D(\nu, \mu, X)$, if at least one term is well-defined, $\nu \ll \mu$, $\nu = \int \chi_M d\mu$. From theorem above $\nu = \int D(\nu, \mu, x) d\mu(x)$ $\implies$ $\chi_M = D(\nu, \mu, x)$ $\mu$-almost everywhere.
	\end{dukazin}
\end{veta}

\subsection{AC and BV functions}
\begin{veta}
	Let $f: [a, b] \rightarrow ®R$, $a < b$. Then $f$ is absolutely continuous on $[a, b]$ if and only if $f$ is difference of two non-decreasing absolutely continuous functions on $[a, b]$.

	\begin{dukazin}
		„$\implies$“ choose $c \in (a, b)$. We define $v(x) = V_c^x f$, $x \in [c, b]$, and $v(x) = -V_x^c f$, $x \in [a, c)$. For every $y, d \in [a, b]$, $y < d$, we have $v(d) - v(y) = V_y^d f$. The function $v$ is non-decreasing.

		$x, y \in [a, b]$, $x < y$:
		$$ (v(y) - f(y)) - (v(x) - f(x)) = (v(y) - v(x)) - (f(y) - f(x)) = V_x^y f - (f(y) - f(x)) ≥ 0. $$

		$v \in AC([a, b])$: Choose $\epsilon > 0$. We find $\delta > 0$ such that $\sum_{j=1}^m |f(b_j) - f(a_j)| < \epsilon$, whenever $a ≤ a_1 < b_1 ≤ a_2 < b_2 ≤ … ≤ a_m < b_m ≤ b$ and $\sum_{j=1}^m (b_j - a_j) < \delta$. Assume that $a ≤ A_1 < B_1 ≤ A_2 < B_2 ≤ … ≤ A_p < B_p ≤ b$ with $\sum_{j=1}^p(B_j - A_j) < \delta$. For each $j \in [p]$ we find points
		$$ A_j = a_1^j < b_1^j = a_2^j < b_2^j < … < a_{m_j}^j < b_{m_j}^j = B_j. $$


		TODO!!!
		$$ \sum_{j=1}^n |v(B_j) - v(A_j)| < \sum_{j=1}^p \(\(\sum_{i=1}^{m_j} |f(b_1^j) - f(a_i^j)|\) + \frac{\epsilon}{p}\) < \epsilon + p·\frac{\epsilon}{p} = 2 \epsilon. $$

		$$ f = v - (v - f). $$
	\end{dukazin}
\end{veta}

% 23. 11. 2022 (náhradní přednáška)

\begin{lemma}
	Let $f: (a, b) \rightarrow ®R$, $x_0 \in (a, b)$, and $f'(x_0) \in ®R$. Then we have
	$$ \lim_{[x_1, x_2] \rightarrow [x_0, x_0], x_1 ≤ x_0 ≤ x_2, x_1 ≠ x_2} \frac{f(x_2) - f(x_1)}{x_2-x_1} = f'(x_0). $$

	\begin{dukazin}
		WLOG $f'(x_0) = 0$ ($x \mapsto f(x) - f'(x_0)·x$). Choose $\epsilon > 0$. We find $\delta > 0$ such that
		$$ \forall x \in (a, b), 0 < |x - x_0| < \delta: \left|\frac{f(x) - f(x_0)}{x - x_0}\right| < \epsilon. $$
		For any $x_1 \in (x_0 - \delta, x_0]$, $x_2 \in [x_0, x_0 + \delta$ we have
		$$ |f(x_1) - f(x_0)| ≤ \epsilon |x_1 - x_0|, \qquad |f(x_2) - f(x_0)| ≤ \epsilon |x_2 - x_0|. $$

		We get
		$$ |f(x_2) - f(x_1)| ≤ |f(x_2) - f(x_0)| + |f(x_1) - f(x_0)| ≤ \epsilon |x_1 - x_0| + \epsilon |x_2 - x_0| ≤ \epsilon |x_2 - x_1|. $$
		$$ \left| \frac{f(x_2) - f(x_1)}{x_2 - x_1}\right| ≤ \epsilon, \qquad x_2 ≠ x_1. $$
	\end{dukazin}
\end{lemma}

\begin{lemma}
	Let $f: (a, b) \rightarrow ®R$, be non-decreasing on $(a, b)$, $C(f)$ be the set of all points of continuity of $f$, and $A \in ®R$. Then for every $x_0 \in C(f)$ it hold:
	$$ f'(x_0) = A \Leftrightarrow \lim_{[x_1, x_2] \rightarrow [x_0, x_0], x_1 ≤ x_0 ≤ x_2, x_1 ≠ x_2, x_1, x_2 \in C(f)} \frac{f(x_2) - f(x_1)}{x_2-x_1} = A. $$

	\begin{dukazin}
		„$\implies$“: This follows from the previous lemma.

		„$\impliedby$“: We check that $f_+'(x_0) = A$: We choose a sequence $\{x_n\}_{n=1}^∞$ such that
		$$ x_n \in (a, b) \setminus \{x_0\}, x_n > x_0, \qquad \lim_{x_n} = x_0. $$

		We want:
		$$ \lim_{n \rightarrow ∞} \frac{f(x_n) - f(x_0)}{x_n - x_0} = A. $$
		For each $n \in ®N$ we find $z_n$, $y_n$ such that
		$$ y_n ≤ x_n ≤ z_n, n \in ®N, \quad \frac{x_n - x_0}{y_n - x_0} \in B\(1, \frac{1}{n}\), \quad \frac{x_n - x_0}{z_n - x_0} \in B\(1, \frac{1}{n}\), \quad y_n, z_n \in C(f). $$
		$$ \underbrace{\frac{f(y_n) - f(x_0)}{y_n - x_0}}_{\rightarrow A} · \underbrace{\frac{y_n - x_0}{x_n - x_0}}_{\rightarrow 1} ≤ \frac{f(x_n) - f(x_0)}{x_n - x_0} ≤ \underbrace{\frac{f(z_n) - f(x_0)}{z_n - x_0}}_{\rightarrow A} · \underbrace{\frac{z_n - x_0}{x_n - x_0}}_{\rightarrow 1}. $$
	\end{dukazin}
\end{lemma}

\begin{lemma}
	Let $f$ be a distribution function of a measure $\mu$ on ®R, $x_0 \in C(f)$, $A \in ®R$. Then
	$$ f'(x_0) = A \Leftrightarrow D(\mu, \lambda_1, x_0) = A. $$

	\begin{dukazin}
		We choose sequences $\{x_n^1\}_n$, $\{x_n^2\}_n$ such that
		$$ x_n^1 ≤ x_0 ≤ x_n^2, \qquad \lim(x_n^2 - x_n^1) = 0, \qquad x_n^1 ≠ x_n^2. $$
		We want:
		$$ \frac{\mu([x_n^1, x_n^2])}{\lambda([x_n^1, x_n^2])} \rightarrow A. $$
		For every $n \in ®N$ we find $y_n^1, y_n^2 \in C(f)$ such that
		$$ y_n^1 ≤ x_0 ≤ y_n^2, \quad \frac{y_n^2 - y_n^1}{x_n^2 - x_n^1} \in B\(1, \frac{1}{n}\), \quad y_n^1 < x_n^1 ≤ x_0 ≤ x_n^2 < y_n^2, \quad \lim(y_n^2 - y_n^1) = 0. $$

		$$ \lim_{n \rightarrow ∞} \frac{\mu([y_n^1, y_n^2])}{y_n^2 - y_n^1} = \lim_{n \rightarrow ∞} \frac{f(y_n^2) - f(y_n^1)}{y_n^2 - y_n^1} =A. $$
		$$ \lim_{n \rightarrow ∞} \frac{\mu([x_n^1, x_n^2])}{x_n^2 - x_n^1} = \lim_{n \rightarrow ∞} \(\underbrace{\frac{\mu([y_n^1, y_n^2])}{y_n^2 - y_n^1}}_{\rightarrow A}·\underbrace{\frac{y_n^2 - y_n^1}{x_n^2 - x_n^1}}_{\rightarrow 1} + \underbrace{\frac{\mu([x_n^1, x_n^2]) - \mu([y_n^1, y_n^2])}{x_n^2 - x_n^1}}_{|·| < \frac{1}{n}}\) = A. $$
	\end{dukazin}
\end{lemma}

\begin{veta}[Lebesgue]
	Let $f$ be a monotone function on an interval $I$. Then we have

	\begin{itemize}
		\item $f'(x)$ exists almost everywhere in $I$;
		\item $f'$ is measurable and $|\int_a^b f'| ≤ |f(b) - f(a)|$, whenever $a, b \in I, a < b$;
		\item $f' \in L_{loc}^1(I)$.
	\end{itemize}

	\begin{dukazin}
		WLOG $f$ is non-decreasing. Let $a, b \in I$, $a < b$. We define $g: ®R \rightarrow ®R$:
		$$ g(x) = \begin{cases}\lim_{t \rightarrow a+} f(t), & x \in (-∞, a],\\ \lim_{t \rightarrow x+} f(t), & x \in (a, b),\\ f(b), & x \in [b, ∞).\end{cases} $$
		$g$ is non-decreasing and continuous from the right, $\{x \in (a, b) | f(x) ≠ g(x)\}$ is countable.

		There exists a Radon measure $\nu$ on ®R such that
		$$ \forall c, d \in ®R, c < d: \nu((c, d]) = g(d) - g(c). $$
		$\nu = \mu + \sigma$, where $\mu$, $\sigma$ are Radon measures, $\mu \perp \lambda$, $\sigma \ll \lambda$.

		Claim: „$D(\mu, \lambda, x) = 0$ $\lambda$-almost everywhere.“ $N \subset ®R$ measurable, $\lambda(N) = 0$ and $\mu(®R \setminus N) = 0$. $c > 0: D:= \{x \in ®R \setminus N | D(\mu, \lambda, x) > c\}$.
		$$ 0 = \mu(D) ≥ c·\lambda(D) \implies \lambda(D) = 0. $$

		Previous lemma gives $g'(x) = D(\nu, \lambda, x)$ $\lambda$-almost everywhere, since $g$ is continuous at each point of $[a, b]$ except on countable set $x_0 \in (a, b) \cap C(f)$, then $f'(x_0) = A \in ®R \Leftrightarrow g'(x_0) = A$ $\implies$ $f'1$ exists almost everywhere in $[a, b]$.
		$$ f(b) - f(a) ≥ g(b) - g(a) = \nu((a, b])) ≥ \sigma((a, b]) = \int_a^b D(\sigma, \lambda, x) d\lambda(x) = $$
		$$ = \int_a^b D(\nu, \lambda, x) d\lambda(x). $$
	\end{dukazin}
\end{veta}

\begin{veta}
	Let $I$ be a nonempty interval and $f \in BV(I)$. Then $f'(x)$ exists finite almost everywhere in $I$.

	\begin{dukazin}
		$f = f_1 - f_2$, where $f_1$, $f_2$ are non-decreasing. And we use previous.
	\end{dukazin}
\end{veta}

% 28. 11. 2022

\begin{veta}
	Let $f: [a, b] \rightarrow ®R$, $a < B$ the following are equivalent:

	\begin{itemize}
		\item $f \in AC([a, b])$;
		\item We have $\phi \in L^1([a, b])$ such that $f(x) = f(a) + \int_a^x \phi(t) dt$, $x \in [a, b]$;
		\item $f'(x)$ exists almost everywhere $f' \in L^1([a, b])$, and $f(x) = f(a) + \int_a^x f'(t) dt$, $x \in [a, b]$.
	\end{itemize}

	\begin{dukazin}
		„$1. \implies 3.$“ WLOG $f$ is absolutely continuous and non-decreasing. We define an extension $f$ (which we denote by $f$ again) by a constant on $(-∞, a)$ and on $(b, ∞)$ to keep continuity. Let $\nu$ be a measure satisfying $\nu([x, y]) = f(y) - f(x)$, $x, y \in ®R$, $x ≤ y$. Then we have $\nu|_{[a, b]} \ll \lambda_1|_{[a, b]}$.

		Then
		$$ \nu([a, x]) = f(x) - f(a) = \int_a^x D(\nu, \lambda_1, t) d\lambda_1(t) = \int_a^x f'(t) d\lambda_1(t). $$

		„$3. \implies 2.$“ triviální. „$2. \implies 1.$“: $\phi = \phi^+ - \phi^-$, $\phi^+, \phi^- \in L^1([a, b])$. We set
		$$ f_1(x) := \int_a^x \phi^+(t) dt, \qquad f_2(x) = \in_a^x \phi^-(t) dt, $$
		$$ \nu(M) = \int_M \phi^+(t) dt, \qquad M \subset [a, b] \text{ measurable}. $$
		
		Then we have $\nu \ll \lambda_1|_{[a, b]}$, $\nu([x, y]) = \int_x^y \phi^+(t) dt = f_1(y) - f_1(x)$, $f_1, f_2 \in AC([a, b])$, $f(x) = f(a) + f_1(x) - f_2(x)$ $\implies$ $f \in AC([a, b])$.
	\end{dukazin}
\end{veta}

\begin{veta}[Per partes for Lebesgue integral]
	Let $f, g \in AC([a, b])$, $a < b$. Then $\int_a^b f' g = [f g]_a^b - \int_a^b f g'$.

	\begin{dukazin}
		$f', g' \in L^1([a, b])$. $(fg)' = f'g + fg'$ almost everywhere in $[a, b]$. $\int_a^b (fg)' = \int_a^b (f'g + fg') = \int_a^b f'g + \int_a^b f g'$.
		$$ a ≤ a_1 < b_1 ≤ a_2 < b_2 ≤ … ≤ a_n < b_n ≤ b: $$
		$$ \sum_{i=1}^n |f(b_i)g(b_i) - f(a_i)g(a_i)| ≤ M·\sum_{i=1}^n |g(b_i) - g(a_i)| + M·\sum_{i=1}^n |f(b_i) - f(a_i)| ≤ M·\epsilon $$
		$$ (|f(b_i)g(b_i) - f(b_i)g(a_i) + f(b_i)g(a_i) - f(a_i)g(a_i)| ≤ |f(b_i)|·|g(b_i) - g(a_i)| + |g(a_i)|·|f(b_i) - f(a_i)|). $$
	\end{dukazin}
\end{veta}

\begin{veta}
	Let $g$ be a non-negative function on $[a, b]$ with $g \in L^1([a, b])$ and $f$ be a continuous function on $[a, b]$. Then there exists $\xi \in [a, b]$ such that
	$$ \int_a^b f g = f(\xi) \int_a^b g. $$

	\begin{dukazin}
		We set $m:=\min_{[a, b]} f$, $M:=\max_{[a, b]} f$.
		$$ m g(x) ≤ f(x)g(x) ≤ Mg(x), x \in [a, b]. $$
		$$ m \int_a^b g ≤ \int_a^b f g ≤ M \int_a^b g. $$
		$$ m ≤ \frac{\int_a^b f g}{\int_a^b g} ≤ M. $$
		If $\int_a^b g = 0$, then we are done, else $\exists \xi \in [a, b]: f(\xi) = \frac{\int_a^b fg}{\int_a^b g}$.
	\end{dukazin}
\end{veta}

\begin{veta}
	Let $f \in L^1([a, b])$ and $g$ be a monotone function on $[a, b]$. Then there exists $\xi \in [a, b]$ such that
	$$ \int_a^b = g(a) \int_a^\xi f + g(b) \int_\xi^b f. $$

	\begin{dukazin}
		WLOG $g$ is non-decreasing.

		First case „$g \in AC([a, b])$“: $F(z) = \int_a^b f$, $F \in AC([a, b])$, $\int_a^b fg = \int_a^b F' g =$
		$$ [F g]_a^b - \int_a^b F g' = F(b)g(b) - F(a)g(a) - F(\xi) \int_a^b g' = \(\underbrace{\int_a^b}_{\int_a^\xi + \int_\xi^b} f\) ·g(b) - \(\int_a^\xi f\)·(g(b) - g(a)). $$

		General case: $(D_n)_{n=1}^∞$ sequence of partition of $[a, b]$, $\nu(D_n) \rightarrow 0$. $g_n$ piece wise affine function: $g_n(x_j^n) - g(x_j^n)$, $j \in [k_n]$. $\lim_{n \rightarrow ∞} g_n(x) = g(x)$, whenever $x \in [a, b]$ is a point of continuity of $g$.

		Using first case we find for every $n \in ®N$ a point $\xi_n \in [a, b]$, such that
		$$ \int_a^b f g_n = g_n(a) \int_a^{\xi_n} f + g_n(b) \int_{\xi_n}^b f. $$
		We may assume, by going to a subsequence, that $\lim \xi_n = \xi \in [a, b]$.
		$$ \sup\{|g_n(x)|\ | x \in [a, b], n \in ®N\} ≤ \max \{|g(a)|, |g(b)|\} $$
		$$ \int_a^b f g_n \rightarrow \int_a^b f g \overset?= g(a) \int_a^\xi f + g(b) \int_\xi^b g \leftarrow g_n(a)\int_a^\xi f + g_n(b)\int_{x_n}^b f = \int_a^b f g_n. $$
	\end{dukazin}
\end{veta}

\begin{veta}
	Let $G \subset ®R^n$ be open nonempty and $f: G \rightarrow ®R$ be Lipschitz on $G$. Then $f$ is differentiable almost everywhere on $G$.
\end{veta}

\begin{lemma}
	Let $f: ®R^n \rightarrow ®R$ be continuous and $i \in \{1, …, n\}$. Then the set
	$$ D_i := \{x \in ®R^n | \frac{\partial f}{\partial x_i}(x) \text{ exists}\} $$
	is Borel.

	\begin{dukazin}
		$$ \exists \frac{\partial f}{\partial x_i}(x) \Leftrightarrow \forall \epsilon > 0\ \exists \delta > 0 \forall t_1, t_2 \in (-\delta, \delta) \setminus \{0\}: \left|\frac{f(x + t_1e^i) - f(x)}{t_1} - \frac{f(x + t_2 e^i) - f(x)}{t_2}\right| < \epsilon \Leftrightarrow $$
		$$ \Leftrightarrow \forall \epsilon \in ®Q^+\ \exists \delta \in ®Q^+ \forall t_1, t_2 \in \((-\delta, \delta) \cap ®Q\) \setminus \{0\}: \left|\frac{f(x + t_1e^i) - f(x)}{t_1} - \frac{f(x + t_2 e^i) - f(x)}{t_2}\right| < \epsilon. $$
	\end{dukazin}
\end{lemma}

\end{document}
