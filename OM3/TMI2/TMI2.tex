\documentclass[12pt]{article}					% Začátek dokumentu
\usepackage{../../MFFStyle}					    % Import stylu



\begin{document}

% 04. 10. 2021

\section*{Organizační úvod}
	\begin{poznamka}
		Zkouška bude snad ústní.
	\end{poznamka}

\section*{Úvod}
\begin{veta}[Lebesgueova míra]
	Existuje právě jedna borelovská míra $\lambda^n$ v $®R^n$ taková, že
	$$ \lambda^n\left(\bigtimes_{i=1}^n[a_i, b_i]\right) = \prod_{i=1}^n \left(b_i - a_i\right), -∞ < a_i ≤ b_i < ∞, 1 ≤ i ≤ n. $$

	\begin{poznamkain}
		Zúplněnou $\sigma$-algebru značíme $B_0^n$ a platí $B^n \subsetneq B_0^n$ (pro $n ≥ 2$ jednoduché, pro $n = 1$ možná někdy příště).

		$\lambda^n$ je translačně a rotačně invariantní (posunutím a otočením se nezmění).

		$\lambda^n$ je $\sigma$-konečná.

		$\lambda^n$ je regulární (můžeme její hodnotu na množině aproximovat jejími hodnotami na otevřené nadmnožině a uzavřené podmnožině\footnote{$$ \forall E \in B_0^n\ \forall \epsilon > 0\ \exists F \subset E \subset G, F\text{ uzavřená}, G\text{ otevřená}, \lambda^n\left(G \setminus F \right) < \epsilon.  $$}).
	\end{poznamkain}
\end{veta}

\begin{definice}
	$\tilde{\mu}: ©A \rightarrow [0, ∞]$ je pramíra (premeasure) na algebře ©A podmnožin $X$, jestliže:
	$$ \tilde{\mu}\left(\O\right) = 0, $$
	$$ A_i \in ©A, \bigcup_i A_i \in ©A, A_i \text{ po dvou disjunktní} \implies \tilde{mu}\left(\bigcup_iA_i\right) = \sum_i \tilde{\mu}\left(A_i\right). $$
\end{definice}

\begin{veta}[Hahn-Kolmogorov]
	Buď $\tilde{\mu}$ pramíra na algebře ©A. Pak existuje míra $\mu$ na $\sigma ©A$ taková, že $\mu = \tilde{\mu}$ na ©A. Je-li $\tilde{\mu}$ $\sigma$-konečná, je $\mu$ určená jednoznačně.
\end{veta}

\section{Konstrukce Lebesgueovy míry z vnější míry}
\begin{definice}[Vnější míra (outer measure)]
	Nechť $X ≠ \O$. Funkce $\mu^*: ©P\left(X\right) \rightarrow [0, ∞]$ je vnější míra na $X$, jestliže:
	$$ \mu^*\left(\O\right) = 0, $$
	$$ A \subset B \implies \mu^*(A) ≤ \mu^*(B),\ \text{(monotonie)}  $$
	$$ A_i \subset X \left(i \in ®N\right) \implies \mu^*\left(\bigcup_iA_i\right) ≤ \sum_i\mu^*(A_i).\ \text{(spočetná subadivita)}  $$

	\begin{prikladyin}
		$$ \mu^* ≡ 0, $$
		$$ \mu^* = \delta_x, x \in X, $$
		$$ \mu^*(A) = \card A, $$
		$$ \mu*(A) := 0, A=\O, \mu*(A) := 1, A≠\O, $$
		$$ X = ®R, \lambda^*(A) := \inf\{\sum_i |I_i|, A \subset \bigcup_i I_i, I_i \text{ otevřené intervaly}\} $$
	\end{prikladyin}
\end{definice}

\begin{definice}[Měřitelnost vůči vnější míře]
	Řekneme, že množina $A \subset X$ je $\mu^*$-měřitelná, jestliže
	$$ \forall T \subset X: \mu^*(T) = \mu*(T\cap A) + \mu^*(T\setminus A). (*)  $$

	Značíme $©A_{\mu^*} := \{A\subset X | A\text{ je $\mu^*$-měřitelná}\}$.

	\begin{poznamkain}
		Ať $\mu^*$ je vnější míra na $X$, $Y \subset X$. Pak restrikce $\mu^*|_Y: A \mapsto \mu^*(A \cap Y)$ je vnější míra a platí:
		$$ ©A_{\mu^*} \subset ©A_{\mu^*}|_Y $$
	
		\begin{dukazin}
			$$ A \in ©A_{\mu^*}: \mu^*|_Y (T) = \mu^*(T\cap Y) = \mu^*(T\cap Y \cap A) + \mu^*((T \cap Y) \setminus A) = $$
			$$ = \mu^*|_Y (T \cap A) + \mu^*|_Y(T \setminus A). $$
		\end{dukazin}
	\end{poznamkain}
\end{definice}

\begin{veta}[Caratheodory]
	$©A_{\mu^*}$ je $\sigma$-algebra na $X$ a $\mu := \mu^*|_{©A_{\mu^*}}$ je míra. Prostor $(X, ©A_{\mu^*}, \mu)$ je úplný.

	\begin{dukazin}
		$\O \in ©A_\mu^*$ je zřejmé. Uzavřenost na komplement je také snadná, z definice $©A_{\mu^*}$. Místo sjednocení ukážeme uzavřenost na konečný průnik: Víme $T \subset X: \mu^*(T) = \mu^*(T\cap A) + \mu^*(T \setminus A)$, $\mu^*(T \cap A) = \mu^*(T \cup A \cup B) + \mu^*((T \cap A) \setminus B)$ a $\mu^*(T\setminus (A \cap B)) = \mu^*((T \setminus (A \cap B)) \cap A) + \mu^*((T \setminus (A \cap B)) \setminus A) = \mu^*((T \cap A) \setminus B) + \mu^*(T \setminus A)$.

		Tedy $\mu^*(T) = \mu^*(T \cap A \cap B) + \mu^*((T \cap A) \setminus B) + \mu^*(T \setminus A) = \mu^*(T \cap A \cap B) + \mu^*(T \setminus (A \cap B))$. Tudíž $©A_{\mu^*}$ je algebra.

		Nyní chceme ukázat, že $\mu^*$ je $\sigma$-aditivní na $©A_{\mu^*}$: Buďte $A_i \in ©A_{\mu^*}$ po dvou disjunktní. Volbou $T = A_1 \cup A_2$ dostaneme $\mu^*(A_1 \cup A_2) = \mu^*(A_1) + \mu^*(A_2)$ $\implies$ $\mu^*$ je konečně aditivní na $©A_{\mu^*}$.
		$$ \forall n \in ®N: \sum_{i=1}^∞ \mu^*(A_i) = \lim_{n \rightarrow ∞} \sum_{i=1}^n \mu^*(A_i) = \lim_{n \rightarrow ∞} \mu^*\left(\bigcup_{i=1}^n A_i\right) ≤ \mu^*\left(\bigcup_{i=1}^∞ A_i\right). $$
		Opačná nerovnost plyne ze spočetné subaditivity. To znamená, že $\mu^*\left(\bigcup_iA_i\right) = \sum_i\mu^*\left(A_i\right), A_i \in ©A_{\mu^*}$, po dvou disjunktní.

		$©A_{\mu^*}$ je uzavřená na disjunktní spočetné sjednocení: $A_i \in ©A_{\mu^*}$, po dvou disjunktní, $T \subset X$.
		$$ \mu^*(T) = \mu^*\left(T \setminus \bigcup_{i=1}^n A_i\right) + \mu^*\left(T \cap \bigcup_{i=1}^n A_i\right) ≥ \mu^*\left(T\setminus \bigcup_{i=1}^∞ A_i\right) + \left(\mu^*|_T\right)\left(\bigcup_{i=1}^∞ A_i\right) = TODO $$

		Limitním přechodem $n \rightarrow ∞$ dostaneme
		$$ \mu^*(T) ≥ \mu^*(T \setminus \bigcup_{i=1}^∞ A_i) + \sum_{i=1}^∞\left(\mu^*|_T\right)\left(A_i\right) = \mu^*\left(T \setminus \bigcup_{i=1}^∞\right) \left(\mu^*|_T\right)\left(\bigcup_{i=1}^∞ A_i\right) \implies \bigcup_{i=1}^∞ A_i \in ©A_{\mu^*}. $$

		Z tohoto všeho plyne, že $\mu = \mu^*|_{A_{\mu^*}}$ je míra na $\sigma$-algebře $©A_{\mu^*}$. Zbývá už jen úplnost:
		$$ \mu^*(A) = 0, T \subset X \implies \mu^*(T) ≥ \mu^*(T\setminus A) = \underbrace{\mu^*(T \cap A)}_{=0} + \mu^*(T \setminus A) \implies A \in ©A_{\mu^*}. $$
	\end{dukazin}
\end{veta}

% 19. 10. 2021

TODO!!!

% 26. 10. 2021

\begin{veta}[Regularita Lebesgueovy míry]
	Nechť $E \subset ®R^n$. Je ekvivalentní:
	
	\begin{enumerate}
		\item $E \in ©A_{\lambda^{n*}}$,
		\item $\forall \epsilon > 0 \ \exists F \subset E \subset G$, $F$ uzavřená, $G$ otevřená, $\lambda^n(G \setminus F) < \epsilon$,
		\item $\exists A \subset E \subset B$, $A, B \in ©B^n$, $\lambda^n(B \setminus A) = 0$,
		\item $E \in ©B_0^n$.
	\end{enumerate}

	\begin{dukazin}
		$1 \implies 2$: Mějme $E \in ©A_{\lambda^{n*}}$, $\epsilon > 0$. Nechť nejprve $\lambda^{n*}(E) < ∞$. Pak $\exists I_i \in O_n$, $E \subset \bigcup_i I_i$, $\sum_i v(I_i) < \lambda^{n*}(E) + \frac{\epsilon}{2}$. Položme $G := \bigcup_i I_i$ (otevřená), $E \subset G$, $\lambda^n(G \setminus E) < \frac{\epsilon}{2}$. Je-li $\lambda^{n*}(E) = ∞$, pak ze $\sigma$-konečnosti je $E = \bigcup_m E_m$, $E_m := E \cap [-m, m]^n$. $\lambda^{n*}(E_m) < ∞ \implies \exists G_m$ otevřená, $E_m \subset G_m$, $\lambda^n(G_m \setminus E_m) < \frac{\epsilon}{2^{m+1}}$. $G := \bigcup_m G_m$ otevřené, $E \subset G$, $\lambda^n(G \setminus E) ≤ \sum_m \lambda^n(G_m \setminus E_m) < \frac{\epsilon}{2}$.

		$E^c \in ©A_{\lambda^{m*}} \implies \exists H$ otevřená, $E^c \subset H$, $\lambda^n(H \setminus E^c) < \frac{\epsilon}{2}$. $F:= H^c$ uzavřená, $F \subset E$, $\lambda^n(E \setminus F) = \lambda^n(E \setminus H^c) = \lambda^n(H \setminus E^c) < \frac{\epsilon}{2}$. TODO

		$2 \implies 3$: Nechť $E \subset ®R^n$ splňuje 2.
		$$ \forall j \in ®N \ \exists F_j \subset E \subset G_j, F_j \text{ uzavřená}, G_j \text{ uzavřená}, \lambda^n(G_j \setminus F_j) < \frac{1}{j}. $$
		Položme $A := \bigcup_j F_j$, $B := \bigcap_j G_j$, $A, B \in ©B^n$, $A \subset E \subset B$. $\lambda^n(B \setminus A)  ≤ \lambda^n(G_j \setminus F_j) < \frac{1}{j}$ pro libovolné $j \in ®N$, tedy $\lambda^n(B \setminus A) = 0$.

		$3 \implies 4$: Jsou-li $A \subset E \subset B$ jako v 3, pak $B \setminus A$ je $\lambda^n$-nulová množina, a tedy $E \in ©B_0^n$.

		$4 \implies 1$: $©A_{\lambda^{n*}}$ obsahuje $©B^n$ a nulové množiny, tedy obsahuje $©B_0^n$.
	\end{dukazin}
\end{veta}

\begin{veta}[Luzinova (běžně bývá obecnější)]
	Buď $f: ®R^n \rightarrow ®R$ lebesgueovsky měřitelná. Buď $\epsilon > 0$. Pak existuje $G \subset ®R^n$ otevřená taková, že $\lambda^n(G) < \epsilon$ a restrikce $f|_{G^c}$ je spojitá.

	\begin{dukazin}
		Buď $U_1, U_2, …$ posloupnost všech otevřených intervalů s racionálními koncovými body. $f$ je lebesgueovsky měřitelná, tedy $\forall j, f^{-1}(U_1) \in ©B_0^n$. Podle regularity pak $\exists F_j \subset f^{-1}(U_j) \subset G_j$, $F_j$ uzavřená, $G_j$ otevřená, $\lambda^n(G_j \setminus F_j) < \frac{\epsilon}{2^j}$. Položme $G := \bigcup_j (G_j \setminus F_j)$. Zřejmě $G$ je otevřená, $\lambda^n(G) ≤ \sum_j \lambda^n (G_j \setminus F_j) < \epsilon$.

		Pro restrikci $g := F|_{G^c}$ platí:
		$$ g^{-1}(U_j) = \{x \in G^c: f(x) \in U_j\} = f^{-1}(U_j) \cap G^c = G_j \cap G^c, j \in ®N. $$
		Zřejmě $U \subset ®R$ otevřená $\implies$ $U = \cup_{U_j \subset U} U_j$, tedy $g^{-1}(U) = \bigcup_{U_j \in U}g^{-1}(U_j)$ otevřená množina v $G^c$, tedy $g$ je spojitá na $G^c$.
	\end{dukazin}

	\begin{poznamkain}
		Obecně nelze požadovat $\lambda^n(G) = 0$. Např. charakteristická funkce diskontinua kladné míry (podobně jako Cantorovo diskontinuum, ale nenulové míry), které dostaneme tak, že z prostředků intervalů v $i$-tém kroku vždy odebereme intervaly délky $a_i$ tak, aby $a_1 + 2a_2 + 4a_3 + … < 1$. ($G$ z minulé věty pak bude sjednocení malých okolíček krajních bodů odebíraných intervalů.)
	\end{poznamkain}
\end{veta}

\section{Regularita borelovských měr}
\begin{definice}[Regulární borelovská míra]
	Borelovská míra $\mu$ na topologickém (metrickém) prostoru $X$ je regulární, jestliže $\forall B \in ©B(X): \mu(B) = \inf\{\mu(G) | B \subset G, G \text{ otevřená}\}$.
\end{definice}

\begin{poznamka}
	1) Často se hovoří o vnější regularitě (outer regular measure). 2) Pro konečné míry: $\mu$ je regulární $\implies \forall B \in ©B: \mu(B) = \sup\{\mu(F) | F \subset B, F \text{ uzavřená}\}$.
\end{poznamka}

\begin{veta}
	Každá konečná borelovská míra na metrickém prostoru je regulární.

	\begin{dukazin}
		$(X, \rho)$ metrický prostor, $\mu$ borelovská míra na $X$, $\mu(X) < ∞$. Označme
		$$ ©D := \{B \in ©B(X) | \epsilon > 0 \ \exists F \subset B \subset G, F \text{ uzavřená}, G \text{ otevřená}, \mu(G \setminus F) < \epsilon\}. $$
		Ukážeme $©D := ©B(X)$. $©D$ obsahuje všechny množiny: $F \subset X$ uzavřená, $F_{<\epsilon} := \{x \in X | \rho(x, F) < \epsilon\}$ (otevřená). Zřejmě $F_{<\frac{1}{j}} \searrow F$, $j \rightarrow ∞$ z uzavřenosti $F$. $\mu$ konečna $\implies$ (spojitost míry) $\mu F_{<\frac{1}{j}} \rightarrow \mu(F)$.

		$©D$ je $\sigma$-algebra: $\O \in ©D$, $D \in ©D \implies D^c \in ©D$:
		$$ F \subset D \subset G, \mu(G \setminus F) < \epsilon \implies G^c \subset D^c \subset F^c, \mu(F^c \setminus G^c) < \epsilon. $$

		$D_i \in ©D \implies \bigcup_i D_i \in ©D$:
		$$ \exists F_i \subset D_i \subset G_i, \mu(G_i \setminus F_i) < \frac{\epsilon}{2^i}. $$
		$$ TODO! $$
		$$ \bigcup_{i=1}^N F_i \subset \cup_{i=1}^∞ D_i \subset \bigcup_{i = 1}^∞ G_i, N \in ®N. $$
		$$ \bigcup_{i=1}^∞ G_i \setminus \bigcup_{i=1}^?F_i $$
	\end{dukazin}

% 02. 11. 2021

	\begin{poznamkain}
		$\sigma$-konečné míry nemusí být regulární, viz prostor spočetně přímek procházejících počátkem v $®R^2$.
	\end{poznamkain}
\end{veta}

\begin{definice}[Těsnost (= vnitřní regularita)]
	Borelovská míra $\mu$ na metrickém (topologickém) prostoru $X$ je těsná (= tight), jestliže $\forall B \in ©B(X): \mu(B) = \sup\{\mu(K) | K \subset B \text{ kompaktní}\}$.
\end{definice}

\begin{poznamka}
	$\mu$ je Radonova míra, jestliže je těsná a konečná na kompaktech.

	Pokud $\mu$ je konečná a těsná, pak už je $mu$ regulární.

	Jestliže $\mu$ je konečná a regulární a $\mu(X) = \sup\{\mu(K) | K \subset X \text{ kompaktní}\}$, pak $\mu$ je těsná.
\end{poznamka}

\begin{veta}
	Pokud $\mu$ je konečná borelovská míra na úplném separabilním metrickém prostoru, potom už je těsná.

	\begin{dukazin}
		Stačí ukázat $\mu(X) = \sup\{\mu(K) | K \subset X \text{ kompaktní}\}$: $S = \{x_1, x_2, …\} \subset X$ hustá spočetná (ze separability). $\forall n \in ®N: \bigcup_i ©U_{\frac{1}{n}}(x_i) = X$. Nechť je dáno $\epsilon > 0$. Pak $\forall n\ \exists k_n: \mu\(X \setminus \bigcup_{i=1}^{k_n} ©U_{\frac{1}{n}}(x_i)\) < \frac{\epsilon}{2^n}$ (ze spojitosti míry).

		Definujeme $A:= \bigcap_{n=1}^∞ \bigcup_{i=1}^{k_n} ©U_{\frac{1}{n}} \(x_i\)$ ($\in ©B(X)$). $A$ je totálně omezená (tzn. $\forall \epsilon > 0\ \exists F \subset A$ kompaktní tak, že $A \subset \bigcup_{x \in F}B_{\epsilon}(x)$). $\overline{A}$ je totálně omezená a uzavřená $\implies$ $\overline{A}$ je úplný MP (+ totálně omezený), tedy $\overline{A}$ je kompaktní.

		$$ \mu(X \setminus \overline{A}) ≤ \mu(X \setminus A) = \mu\(\bigcup_{n=1}^∞ \mu\(X \setminus \bigcup_{i=1}^{k_n} ©U_{\frac{1}{n}} \(x_i\)\)\). $$
	\end{dukazin}
\end{veta}

\section{Věta o rozšíření míry}
\begin{veta}[Hahn-Komogorov]
	Buď $\tilde{\mu}$ pramíra na algebře $©A \subset ©P(X)$ $\implies$ existuje míra $\mu$ na $\sigma©A$ taková, že $\mu = \tilde{\mu}$ ne $©A$. Je-li $\tilde{\mu}$ $\sigma$-konečná, je $\mu$ určena jednoznačně.

	\begin{dukazin}
		Pro $E \subset X$ položme $\mu^*(E) := \inf\{\sum_{i=1}^∞ \tilde{\mu}(A_i) | A_i \in ©A, E \subset \bigcup_{i=1}^∞A_i\}$. Ověříme, že $\mu^*$ je vnější míra.

		$\forall A \in ©A: \mu^*(A) = \tilde{\mu}(A)$. Zřejmě $\mu^*(A) ≤ \tilde{\mu}(A)$, jelikož můžeme pokrýt $A$ množinami $A, \O, \O, …$. Pro $≥$ mějme $A \subset \bigcup_i A_i$, $A_i \in ©A$. $B_1:= A_1 \cap A$, $B_2 := (A_2 \cap A) \setminus B_1$, … O nich víme, že $A = \bigcup_i B_i$, $B_i$ po dvou disjunktní, $B_i \in ©A$. $\tilde{\mu}(A) = \sum_i\tilde{\mu}(B_i) ≤ \sum_i\tilde{\mu}(A_i)$, tedy z definice infima $\tilde{\mu}(A) ≤ \inf_{A_i}\sum_i \tilde{\mu}(A_i) = \mu^*(A)$.

		Zbývá ukázat, že $©A \subset ©A_{\mu^*}$. TODO.

		Jednoznačnost: ©A uzavřená na konečné průniky, $\tilde{\mu}$ je $\sigma$-konečná $\implies$ $\exists A_n \in ©A$, $A_n \nearrow X, \tilde{\mu}(A_n) < ∞$ $\implies$ $\mu$ je jednoznačně určena (věta o jednoznačnosti míry, TMI1).
	\end{dukazin}
\end{veta}

\begin{poznamka}[Zobecnění příkladu z TMI1]
	$E = \bigtimes_{i=1}^∞ E_i$, $E_i$ úplné separabilní metrické prostory (např. $E_i = ®R$), $\O ≠ I \subset ®N$ … $E_{I} = E_i$, $E, E_I$ metrické prostory. $\pi_I: E \rightarrow E_I$ kanonická projekce. A následující věta:
\end{poznamka}

\begin{veta}[Daniell-Koleuogorov]
	$E_i$ úplné separabilní metrické prostory, $i \in ®N$. Nechť pro každou $\O ≠ I \subset ®N$ existuje borelovská pravděpodobnostní míra $\mu_I$ na $E_I$. A nechť je splněna projektivní vlastnost:
	$$ \O ≠ I \subset J \subset ®N \text{ konečná}, \forall B \in ©B(E_I): \mu_I(B) = \mu_J\(\(\pi_I^J\)^{-1}(B)\), $$
	pak $\exists!$ borelovská míra $\mu$ na $E = \bigtimes_{i=1}^∞ E_i$ taková, že $\forall \O ≠ I \subset ®N$ konečná, $\forall B \in ©B\(E_I\): \mu(\pi_I^{-1}(B) = \mu_I(B))$.
\end{veta}

% 09. 11. 2021

\begin{lemma}
	$$ 1) x_n, x \in E: x_n \rightarrow x \Leftrightarrow x_n(i) \rightarrow x(i), i \in ®N, $$
	$$ x_n, x \in E_I: x_n \rightarrow x \Leftrightarrow x_n(i) \rightarrow x(i), i \in I $$

	2) $\pi_I, \pi_I^J$ jsou spojitá zobrazení.

	3) $\forall I \in ?_f$: $E_I$ je úplný separabilní MP.

	4) $©B(E_I) = \otimes_{i \in I}©B(E_i)$.

	\begin{dukazin}
		1 jsme nedokazovali, 2 a 3 jsou triviální.
		$$ 4) \otimes_{i \in I}©B(E_i) = \sigma \{\bigtimes_{i \in I} B_i | B_i \in ©B(E_i)\} = \sigma \{\bigtimes_{i \in I} | G_i \subset E_i \text{ otevřené}\}, $$
		tedy $\bigtimes_{i \in I} G_i$ je otevřená v $E_I$ $\implies$ $\otimes_{i \in I} ©B(E_i) \subset ©B(E_I)$. Naopak $U \subset E_I$ otevřená $\implies$ $U = \bigcup_{n=1}^∞ U_n$, kde $U_n = \bigtimes G_i^n$, $G_i^n \subset E_i$ otevřená $\implies$ $©B(E_I) \subset \otimes_{i \in I} ©B(E_i)$.
	\end{dukazin}
\end{lemma}

\begin{veta}[Daniell-Kolmogorov]
	$E_i$ úplné separabilní metrické prostory $i \in ®N$. Nechť pro každou $I \in ?_f$ existuje borelovská pravděpodobnostní míra $\mu_I$ na $E_I$. Nechť $I \subset J, I, J \in ?_f \implies \mu_I = \mu_J(\pi_I^J)^{-1}$. Pak existuje právě jedna borelovská pravděpodobnostní míra $\mu$ na $E$ taková, že
	$$ \forall I \in ?_f: \mu_I = \mu(\pi_I)^{-1}. $$

	\begin{dukazin}
		TODO!

% 16. 11. 2021

		TODO!
	\end{dukazin}
\end{veta}

\section{Charakterizace Riemannovsky integrovatelných funkcí}
\begin{veta}
	Buď $f: [a, b] \rightarrow ®R$ omezená. Pak
	$$ f \in R[a, b] \Leftrightarrow f \text{je spojitá v $\lambda^1$-skoro všude na $(a, b)$}. $$

	\begin{dukazin}
		$(©D_n)$ posloupnost zjemňujících se dělení intervalu $[a, b]$.
		$$ ©D_n = \{a = x_0^{(n)} < x_1^{(n)} < … < x_{k_n}^{(n)} = b\}, n \in ®N, ||©D_n|| = \max_{1 ≤ i ≤ k_n} (x_i^{(n)} - x_{i-1}^{(n)}) \stackrel{n \rightarrow ∞}{\rightarrow} 0. $$
		Označme $s_n(x) := \inf_{[x^{(n)_{i-1}, x_i^{(n)}}} f$, $S_n(x) := \sup_{[x^{(n)_{i-1}, x_i^{(n)}}} f$, $x \in (x_{i-1}^{(n)}, x_i^{(n)}]$, $n \in ®N$ a $S_n(x) := 0$, $S_n(x):= 0$ pro ostatní $x \in ®R$. Toto jsou jednoduché měřitelné funkce.

		Horní a dolní Riemannův součet splňuje
		$$ \underline{\int_a^b f} \stackrel{n \rightarrow ∞}{\leftarrow} s(f, ©D_n) = \int_a^b s_n d\lambda^1, \overline{\int_a^b f} \stackrel{n \rightarrow ∞}{\leftarrow} S(f, ©D_n) = \int_a^b S_n d\lambda^1. $$
		$|f| ≤ M$, tedy $-M ≤ s_1 ≤ s_2 ≤ … ≤ f ≤ … ≤ S_2 ≤ S_1 ≤ M$. Označme $f_1 := \lim_{n \rightarrow ∞} s_n$, $f_2 := \lim_{n \rightarrow ∞} S_n$ (bodové limity funkcí).
		$$ -M ≤ s_n \searrow f_1 ≤ f ≤ f_2 \nwarrow S_n ≤ M, qquad f_1, f_2 \text{ měřitelné}. $$
		Ze zobecněné Leviho věty $\int_a^b s_n d\lambda^1 \rightarrow \int_a^b f_1 d\lambda^1$, $\int_a^b S_n d\lambda^1 \rightarrow \int_a^b f_2 d \lambda^1$.

		$\implies$: Nechť $f \in R[a, b]$, tedy $\underline{\int_a^b f} = \overline{\int_a^b f}$.
		$$ \implies \int_a^b f_1 d\lambda^1 = \int_a^b f_2 d \lambda^1 \implies \int_a^b (f_2 - f_1) d\lambda^1 = 0 \implies f_1 = f_2 \lambda^1\text{-s.v.} $$
		$$ N := \{x \in [a, b] | f_1(x) ≠ f_2(x)\} \cup \{x_i^{(n)} | 0 ≤ i ≤ k_n, n \in ®N\}, \qquad \lambda^1(N) = 0. $$
		Ukážeme, že $f$ je spojitá ve všech bodech množiny $(a, b) \setminus N$: Buď $x \in (a, b) \setminus N$, $\epsilon > 0$. Potom $f_1(x) = f_2(x)$ $\implies$ $\exists n \in ®N$, $S_n(x) - s_n(x) < \epsilon$. $I_n$ nechť je otevřený interval dělení $©D_n$, pro nějž $x \in I_n$. Pak
		$$ s_n(x) ≤ f(y) ≤ S_n(x), y \in I_n \implies |f(y) - f(x)| ≤ 2\epsilon, y \in I_n \implies f \text{ je spojitá v bodě $x$.} $$

		$\Leftarrow$: Nechť $\lambda^1(©D) = 0$, kde $D := \{x \in (a, b): f\text{ není spojitá v }x\}$. Ukážeme, že $S_n(x) - s_n(x) \stackrel{n \rightarrow ∞}{\rightarrow} 0$
		$$ \implies S(f, ©D_n) - s(f, ©D_n) \rightarrow 0 \implies f \in R[a, b]. $$
		Nechť $x \in (a, b) \setminus ©D$, $\epsilon > 0$. Pak $f$ je spojitá v bodě $x$ $\implies \exists \delta > 0$, $|y - x| < \delta$ $\implies$ $|f(y) - f(x)| < \epsilon$.

		Zvolme $n_0$ tak velké, aby $||©D_n|| < \delta$, $n ≥ n_0$. Pak $S_n(x) - s_n(x) ≤ 2 \sup\{|f(y) - f(x)|: |y - x| < \delta\} < 2\epsilon$.
	\end{dukazin}
\end{veta}

\section{Pokrývací věty}
\begin{poznamka}[Úmluva]
	Koulí se myslí uzavřená koule, $B(x, r) = \{y \in ®R^n | ||y-x|| ≤ r\}$, $r > 0$, $\rad B = r$, $t>0 … tB = B(x, t·r)$.
\end{poznamka}

\begin{lemma}[„$5r$“ covering]
	Nechť ©F je systém koulí v $®R^n$ (uzavřené, nedegenerované), $\sup_{B \in ©F} (\rad B) < ∞$. Pak existuje disjunktní podsystém $©F' \subset ©F$ takový, že
	$$ \forall B \in ©F\ \exists B' \in ©F': B \cap B' ≠ \O \land B \subset 5B. $$
\end{lemma}

\begin{dusledek}
	$$ \bigcup ©F \subset \bigcup_{B' \in ©F'} 5B' $$
\end{dusledek}

% 23. 11. 2021

\begin{dukaz}[„$5r$“ covering]
	Označme $R := \sup_{B \in ©F} \rad B$. $©F_k := \{B \in ©F | \rad B \in \(\frac{R}{2^{k+1}}, \frac{R}{2^k}\]\}$, $k = 0, 1, …$ Dále definujeme indukcí systémy $©B_k$, $k = 0, 1, …$: $©B_0$ libovolný maximální disjunktní podsystém $©F_0$. Máme-li $©B_0, …, ©B_k$: $©B_{k+1}$ libovolný maximální disjunktní podsystém $\{B \in ©F_{k+1} | \forall B' \in ©B_0 \cup … \cup ©B_k: B \bigcup B: = \O\}$, $©F' := \bigcup_{k=0}^∞ ©B_k$ disjunktní podsystém $©F$.

	Nyní už jen ověříme vztah ze znění: Nechť $B \in ©F$, pak $B \in ©F_k$ $\implies$ $\exists B' \in ©B_0 \cup … \cup ©B_k$, $B \cap B' ≠ \O$ (z maximality). Dále víme, že $\frac{R}{2^{k+1}} < \rad B ≤ \frac{R}{2^k}$ a $\frac{R}{2^{k+1}} < \rad B'$, tedy $\rad B < 2\rad B'$. Navíc $B = B(x, r)$ a $B' = B(x', r')$, $r < 2r'$, $B \cap B' ≠ \O$, tedy $||x - x'|| ≤ r + r'$, tj. $\forall y \in B: ||y - x'|| ≤ ||y - x|| + ||x - x'|| ≤ r + r + r' < 5r'$.
\end{dukaz}

\begin{definice}[Vitaliovo pokrytí]
	Nechť $A \subset ®R^n$. Řekneme, že systém uzavřených koulí ©F je Vitaliovým pokrytím (Vitaly Cover) množiny $A$, jestliže
	$$ \forall a \in A\ \forall \epsilon > 0\ \exists B \in ©F: a \in B, \rad B < \epsilon. $$
\end{definice}

\begin{veta}[Vitaly Covering Theorem]
	Nechť $A \subset ®R^n$ a ©F je Vitaliovo pokrytí $A$. Pak existuje disjuktní $©F' \subset ©F$ takový, že $\lambda^n(A \setminus \bigcup ©F') = 0$.

	\begin{dukazin}
		BÚNO nechť $\sup_{B \in ©F}(\rad B) ≤ 1$. „$5r$“ covering lemma nám pak říká, že $\exists ©F' \subset ©F$ disjuktní takový, že platí
		$$ \forall B \in ©F\ \exists B' \in ©F': B \cap B' ≠ \O \land B \subset 5B. $$
		Ukážeme, že $\lambda^n(A \setminus \bigcup ©F') = 0$. Označme $Z_r := (A \setminus \bigcup ©F') \cap U_r(¦o)$, $\forall r > 0$. Ukážeme, že $\lambda^n(Z_r) = 0$.
		
		Označme $©F'' := \{B' \in ©F' | ©B' \cap U_r(¦o) ≠ \O\}$ a $©F''_k := \{B' \in ©F'' | \rad B' \in \(\frac{1}{2^{k+1}}, \frac{1}{2^k}\]\}$, $k = 0, 1, 2, …$ $©F'$ je disjuktní, tudíž
		$$ \sum_{B' \in ©F''} \lambda^n(B') = \sum_{k=0}^∞ \sum_{B' \in ©F''_k} \lambda^n(B') ≤ \lambda^n(B(0, r+2)) < ∞ $$
		$\implies$ $©F_k''$ je konečný $\forall k$. Nechť je dáno $\epsilon > 0$. Pak
		$$ \exists k_0 \in ®N: \sum_{k > k_0} \sum_{B' \in ©F''_k}\lambda^n(B') < \epsilon. $$
		Zvolme pevně $z \in Z_r$. Zřejmě $z \notin \bigcup_{k=0}^{k_0} \bigcup_{B' \in ©F''_k} B' =: K$ (kompakt). Z vlastnosti Vitaliova pokrytí pak:
		$$ \exists B \in ©F: B \cap K = \O, z \in B, B \subset U_r(0). $$
		Z vlastnosti pokrytí $F'$ zřejmě $B' \in ©F''$, $B' \notin \bigcup_{k=0}^{k_0} \bigcup ©F''_k$, tj. $z \in 5B' \implies Z_r \subset \bigcup_{k > k_0} \bigcup_{B' \in ©F''_k} 5B'$ $\implies$ $\lambda^{n*}(Z_r) ≤ \sum_{k > k_0}\sum_{B' \in ©F''_k} \lambda^n(5B') < 5^n \epsilon$. $\epsilon \rightarrow 0$ nám dá $\lambda^n(Z_r) = 0$.
	\end{dukazin}
\end{veta}

\begin{definice}[Lebesgueova hustota]
	Pro $A \subset ®R^n$, $a \in ®R^n$ definujeme $\Theta^{n*}(A, a) = \limsup_{\epsilon \rightarrow 0_+} \frac{\lambda^{n*}(A \cap B(a, \epsilon)}{\lambda^n(B(a, \epsilon))}$ ($≤ 1$) a $\Theta^n_*(A, a) = \liminf_{\epsilon \rightarrow 0_+} \frac{\lambda^{n*}(A \cap B(a, \epsilon)}{\lambda^n(B(a, \epsilon))}$, tzv. horní a dolní hustota množiny $A$ v $a$. Pokud $\Theta^{n*}(A, a) = \Theta^n_* (A, a)$, pak definujeme Lebesgueovu hustotu $A$ v $a$ vztahem $\Theta^n(A, a) = \Theta^{n*}(A, a)$.
\end{definice}

\begin{veta}[Lebesgueova o hustotě (Lebesgue Density Theorem)]
	Pokud $A \subset ®R^n$ je lebesgueovsky měřitelná, potom $\Theta^n(A, ·) = \chi_A(·)$ $\lambda^n$-skoro všude.
\end{veta}

\end{document}
