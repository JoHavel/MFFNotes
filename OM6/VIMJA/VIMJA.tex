\documentclass[12pt]{article}					% Začátek dokumentu
\usepackage{../../MFFStyle}					    % Import stylu



\begin{document}

\begin{poznamka}
	Stručný obsah: Diferencovatelnost v Banachových prostorech; Asplundovy prostory; slabé Asplundovy prostory; fragmentovanost a oddělovací spojitost; atd.
\end{poznamka}

\section{Diferencovatelnost}
\subsection{Základní pojmy}

\begin{poznamka}
	Většina by fungovala i pro NLP, ale my se pro jednoduchost zaměříme na Banachovy prostory.
\end{poznamka}

\begin{definice}
	$X, Y$ reálné Banachovy prostory, $U \subset X$ otevřená, $f: U \rightarrow Y$, $x \in U$, $h \in X$:
	$$ \partial_h^+ f(x) = \lim_{t \rightarrow 0_+} \frac{f(x + t·h) - f(x)}{t} \in Y, \text{ pokud existuje,} $$
	$$ \partial_h f(x) = \lim_{t \rightarrow 0} \frac{f(x + t·h) - f(x)}{t} \in Y, \text{ pokud existuje}. $$

	\begin{poznamkain}
		$\partial_{¦o}^+ f(x) = \partial_{¦o} f(x) = 0$. Pokud $\|h\| = 1$, pak je to směrová derivace.

		Pokud $\alpha > 0$, pak $\partial_{\alpha h}^+ f(x) = \alpha \partial_h^+ f(x)$, má-li alespoň jedna strana smysl. Podobně pro $\alpha \in ®R \setminus \{0\}$ je $\partial_{\alpha h} f(x) = \alpha \partial_h f(x)$, má-li alespoň jedna strana smysl (speciálně $\alpha = -1$).

		$$ \exists \partial_h f(x) \Leftrightarrow \exists \partial_{-h}^+ f(x) = - \partial_h^+ f(x). $$
	\end{poznamkain}
\end{definice}

\begin{definice}[Gateauxova derivace]
	$X, Y$ reálné Banachovy prostory, $U \subset X$ otevřená, $f: U \rightarrow Y$, $x \in U$, $h \in X$: Pokud $\exists L \in ©L(X, Y)$, že $\forall h \in X: L(h) = \partial_h f(x)$, značíme $f'_g(x) = L$.

	\begin{poznamkain}
		Stačí, aby $\forall h \in X: L(h) = \partial_u^+ f(a)$. Znamená to, že $h \mapsto \partial_h^{(+)} f(x)$ je omezený lineární operátor.
	\end{poznamkain}
\end{definice}

\begin{definice}[Fréchetova derivace]
	$f$ má v bodě $x \in U$ Fréchetovu derivaci, pokud $\exists L \in ©L(X, Y)$:
	$$ \lim_{h \rightarrow 0} \frac{f(x + h) - f(x) - L(h)}{\|h\|} = 0. $$

	\begin{poznamkain}
		Pokud takové $L$ existuje, nutně platí $L = f'_g(x)$. Fréchetovu derivaci značíme $f'_F(x)$.
	\end{poznamkain}
\end{definice}

\begin{poznamka}
	$$ \exists f'_F(x) \Leftrightarrow \exists f'_g(x) \land \lim_{t \rightarrow 0} \frac{f(x + th) - f(x)}{t} = \partial_h f(x) \text{ stejnoměrně pro $h \in B_X$ (resp. $h \in S_X$)}. $$

	\begin{dukazin}
		$f'_F(x)$ existuje $\Leftrightarrow$
		$$ \forall \epsilon > 0\ \exists \delta > 0\ \forall h \in X, \|h\|< \delta: \|f(x + h) - f(x) - \partial_h f(x)\| ≤ \epsilon·\|h\| $$

		Existenci $f'_g(x)$ máme, tedy: $\epsilon > 0$ … najdeme to $\delta > 0$: $h \in B_x$, $t \in ®R$, $0 < |t| < \delta$ $\implies \|t·h\| < \delta$:
		$$ \|f(x + th) - f(x) - \partial_{t·h} f(x) \|≤ \epsilon \|t·h\| = \epsilon · |t| $$
		$$ \|\frac{f(x + th) - f(x)}{t} - \partial_h t(x)\| ≤ \epsilon $$
		to dává stejnoměrnou konvergenci „$\implies$“.

		„$\impliedby$“: Nechť $\forall \epsilon > 0\ \exists \delta > 0\ \forall h \in \{x | \forall t \in P(¦o, \delta)\}$:
		$$ \| \frac{f(x + t·h) - f(x)}{t} - \partial_h f(x)\| ≤ \epsilon. $$
		$\epsilon > 0$ … najdeme to $\delta > 0$: Zvolíme $h \in X$, $0 < \|h\| < \delta \implies \frac{h}{\|h\|} \in S_X \implies$
		$$ \implies \| \frac{f(x + h) - f(h)}{\|h\|} - \frac{\partial_h f(x)}{\|h\|} \| ≤ \epsilon \implies $$
		$$ \implies \frac{\|f(x + h) - f(x) - \partial_h f(x)\|}{\|h\|} < \epsilon. $$
	\end{dukazin}
\end{poznamka}

\begin{poznamka}
	\ 
	\begin{enumerate}
		\item $X = ®R$, pak je F. derivace, G. derivace a běžná derivace to samé.
		\item TODO?
		\item TODO?
	\end{enumerate}
\end{poznamka}

\begin{tvrzeni}
	$\dim X < ∞$, $U \subset X$ otevřená; $f: U \rightarrow Y$ lipschitzovská, $x \in U$, $f'_g(x)$ existuje $\implies$ $f'_F(x)$ existuje.

	\begin{dukazin}
		$f$ lipschitzovská $\implies$ existuje $L > 0: \|f(x) - f(y)\| ≤ L·\|x - y\|$ ($x, y \in U$). Nechť existuje $f'_g(x)$. Potom $\forall \epsilon > 0$ existuje $h_1, …, h_N \in S_X$ $\epsilon$-síť. Nechť $\delta > 0$ je takové, že $B(x, \delta) \subset U$ a $0 < |t| < \delta \implies \|\frac{f(x + th_i) - f(x)}{t} - f'_g(x)(h_i)\| < \epsilon$.

		Vezmeme $h \in S_X$ libovolné, $0 < |t| < \delta$. Existuje $i$, že $\|h - h_i\| < \epsilon$:
		$$ \|\frac{f(x + t·h) - f(x)}{t} - f'_g(x)(h)\| ≤ \|\frac{f(x + t·h) - f(x + t·h_i)}{t}\| + \|\frac{f(x + t·h_i) - f(x)}{t} - f'_g(x)(h_i)\| + \|f'_g(x)(h_i) - f'_g(x)(h)\| ≤ \frac{L·\|(x + t·h) - (x + t·h_i)}{|t|} + \epsilon + \|f'_g(x)\|·\|h_i - h\| ≤ L·\|h - h_i\| + \epsilon + L·\|h_i - h\| ≤ (2L + 1)·\epsilon. $$
	\end{dukazin}

	\begin{poznamkain}
		Stačí lokálně lipschitzovská.
	\end{poznamkain}
\end{tvrzeni}

% 23. 02. 2023

\begin{tvrzeni}
	$f: (a, b) \rightarrow ®R$ konvexní $\implies$ $f'(x)$ existuje v každém bodě $(a, b)$ až na spočetně mnoho.

	\begin{dukazin}
		1) $\forall x \in (a, b)$ existuje vlastní $f_+'(x)$, neboť $f_+'(x) = \lim_{y \rightarrow x_+} \frac{f(y) - f(x)}{y - x}$, což je neklesající funkce v $y \in (x, b)$ a zdola omezená hodnotou $\frac{f(z) - f(x)}{z - x}$ pro $z \in (a, x)$.

		2) $x \mapsto f_+'(x)$ je neklesající na $(a, b)$. 3) Podobně pro $f_-'$. Tedy $f$ je spojitá na $(a, b)$. 4) $f'(x)$ neexistuje $\Leftrightarrow$ $f_+'$ má v bodě $x$ skok. ($f_+'$ je spojitá v $x$ $\implies$ $f_x'(x) = \lim_{y \rightarrow x_-} f_+'(y) = \lim_{y \rightarrow x_-} f_-'(y)$, $f_-'(y) ≤ f'_+(y) ≤ f_-'(z)$ pro $z > y$).
	\end{dukazin}
\end{tvrzeni}

\begin{tvrzeni}
	$f$ convex and bounded from above on $B(x, r)$, $x \in X, r > 0$ $\implies$ $f$ is Lipschitz on $B\(x, \frac{1}{2}\)$.

	\begin{dukazin}
		1) „$f ≤ M$ on $B(x, r)$ $\implies$ $f ≥ 2f(x) - M$ on $B(x, r)$“: $y \in B(x, r)$, $z := x + (x - y)$ $\implies z \in B(x, r)$, $x = \frac{1}{2}(y + z)$. $f(x) ≤ \frac{1}{2}(f(y) + f(z))$, $f(y) ≥ 2f(x) - f(z) ≥ 2f(x) - M$.

		2) Assume $|f| ≤ M$ on $B(x, r)$. Take $v, w \in B(x, \frac{r}{2})$, $v ≠ w$, $z := w + \frac{z}{2} \frac{w - v}{\|w - v\|}$ $\implies$ $z \in B(x, r)$. $w(1 + \frac{z}{2\|w - v\|}) = z + \frac{z}{2\|w - v\|} v$,
		$$ f(w) ≤ \frac{f(z) + \frac{z}{2\|w - v\|}f(v)}{1 + \frac{z}{2\|w - v\|}} $$
		$$ f(w) - f(v) ≤ \frac{f(z) + f(v)}{1 + \frac{z}{2\|w - v\|}} $$
		$$ \frac{f(w) - f(v)}{\|w - v\|} ≤ \frac{f(z) - f(v)}{\|w - v\| + 1 / 2} ≤ \frac{2M}{\frac{r}{2}} = \frac{4M}{r} $$
		$\implies$ $f$ is $\frac{4M}{r}$-lipschitz on $B(x, \frac{y}{2})$.
	\end{dukazin}
\end{tvrzeni}

\begin{dusledek}
	\ 
	\begin{itemize}
		\item $\dim X < ∞$, $U \subset X$ open convex, $f: U \rightarrow ®R$ convex $\implies$ $f$ is locally lipschitz on $U$. (WLOG: $X = (®R^n, \|·\|_1)$. $x \in U \implies \exists r > 0 \overline{B_{\|·\|_1}(x, r)} \subset U$. $\overline{B_{\|·\|_1}(x, r)} = \conv\{x ± r e_i | i \in [n]\}$. $f ≤ \max_{i \in [n]} f(x ± r·e_i)$ on $\overline{B_{\|·\|_1}(x, r)}$ $\implies$ $f$ is Lipschitz on $\overline{B_{\|·\|_1}(x, \frac{r}{2})}$)
		\item $\dim X < ∞$, $U \subset X$ open convex, $f: U \rightarrow ®R$ convex, $x \in U$ $\implies$ $f'_F(x)$ exists if and only if $f_g'$ („$\implies$“ always, „$\impliedby$“ from first item and tvrzeni above).
		\item $X$ Banach space, $U \subset X$ open convex, $f: U \rightarrow ®R$ continuous convex, then $f$ is locally Lipschitz on $U$ ($f$ continuous $\implies$ $f$ is locally bounded $\implies$ $f$ is locally Lipschitz).
	\end{itemize}
\end{dusledek}

\begin{veta}
	$X = l_1$, $f: X \rightarrow ®R$, $f(x) = \|x\| = \sum_{n=1}^∞ |x_n|$.
	$$ \exists f_g'(x) \Leftrightarrow \forall n \in ®N: x_n ≠ 0. \qquad \implies f_g'(x) = \(\sgn x_n\)_{n=1}^∞ \in l_∞, $$
	$$ \forall x \in l_1\ \nexists f_F'(x). $$

	\begin{dukazin}
		1) $x \in l_1$, $n \in ®N$, $x_n = 0$. Take $h = e_n$ $\sum_{k≠n} |x_k| + |t|$. $\partial_h f(x) = \lim_{t \rightarrow 0} \frac{\|x + t·e_n\| - \|x\|}{t} = \lim_{t \rightarrow} \frac{|t|}{t}$ doesn't exist. This prove „$\implies$“.

		„$\impliedby$“: Assume $\forall n \in ®N$: $x_n ≠ 0$, $h \in l_1$, $h ≠ 0$, $\epsilon > 0$:
		$$ \left|\frac{f(x + t·h) - f(x)}{t} - \sum_{n=1}^∞ h_n · \sgn x_n\right| = \left|\frac{1}{t}\sum_{n=1}^∞ \(|x_n + t·h_n| - |x_n| - t h_n \sgn x_n\)\right| ≤ \left| \frac{1}{t} \sum_{n=1}^N (…)\right| + \left|\frac{1}{t} \sum_{n > N} (…) \right| \rightarrow 0 + … < \epsilon. $$
	\end{dukazin}
\end{veta}

% 02. 03. 2023

TODO? % WTF?

% 09. 03. 2023

\section{Subdiferential}
\begin{definice}
	$X$ Banach, $U \subset X$ open + convex, $f: U \rightarrow ®R$ convex + continuous ($\implies$ locally Lipschitz). $x \in U$,
	$$ \partial f(x) := \{x^* \in X^* | \forall y \in U: x^*(y - x) ≤ f(y) - f(x)\}. $$
\end{definice}

\begin{poznamka}
	$$ \forall h \in X\ \exists \partial^+_h f(x) $$

	$$ x^* \in \partial f(x) \Leftrightarrow \forall h \in X: x^*(h) ≤ \partial_h^+ f(x) $$
	(„$\implies$“: Fix $h \in X$, find $\delta > 0$: $\forall |t| < \delta: x + t·h \in U$. Then $\forall t \in (0, \delta): x^*(x + t·h - x) ≤ f(x + t·h) - f(x)$, $x^*(h) ≤ \frac{f(x + t·h) - f(x)}{t} \rightarrow \partial_h^+ f(x)$. „$\impliedby$“: Fix $y \in X$, put $h := y - x$. Then $x^*(y - x) = x^*(h) ≤ \partial_h^+ f(x) ≤ \frac{f(x + h) - f(x)}{1} = f(y) - f(x)$.)

	$$ U = X, f(x) = \|x\| \implies \partial f(x) = \{x^* \in B_{X^*} | x^*(x) = \|x\|\}. $$
	(„$\subseteq$“ Let $x^* \in \partial f(x)$. Then $x^*(x) ≤ \|x + x\| - \|x\| = \|x\|$, $x^*(-x) ≤ \|0\| - \|x\| = -\|x\|$. Thus $x^*(x) = \|x\|$. And for $h \in X: x^*(h) ≤ \|x + h\| - \|x\| ≤ \|h\|$, therefore $\|x^*\| ≤ 1$. „$\supseteq$“: Let $x^* \in B_{X^*}, \|x\| = x^*(x)$. Then $\forall y \in X: x^*(y - x) = x^*(y) - x^*(x) ≤ \|y\| - \|x\|$.)
\end{poznamka}

\begin{tvrzeni}
	$\forall x \in U: \partial f(x) ≠ \O$, convex, $w^*$-compact.

	\begin{dukazin}
		$h \mapsto \partial_h^+ f(x)$ is sublinear functional ($t·\partial_h^+ f(x) = \partial_{t·h}^+ f(x)$, $t > 0$, and
		$$ \partial_{h_1 + h_2}^+ f(x) = \lim_{t \rightarrow 0_+} \frac{f(x + t·(h_1 + h_2)) - f(x)}{t} ≤ \lim_{t \rightarrow 0_+}\(\frac{f(x + 2·t·h_1) - f(x)}{2t} + \frac{f(x + 2·t·h_2) - f(x)}{2t}\) = \partial_{h_1}^+ f(x) + \partial_{h_2}^+ f(x). $$
		so it is sublinear functional).

		By Hahn–Banach theorem, $\exists x^* \in X^{\#}: x^*(h) ≤ \partial_h^+ f(x)$, $h \in X$. Moreover $x^*$ is continuous ($x^* \in X^*$), because $f$ is locally Lipschitz, so $\exists r > 0\ \exists L > 0: f|_{B(x, r)}$ is $L$–Lipschitz, so $\left|\frac{f(x + t·h) - f(x)}{t}\right| ≤ L·\|h\|$ and so $x^*(h) ≤ \partial_h^+ f(x) ≤ L·\|h\|$, $h \in X$.

		So by remark $x^* \in \partial f(x)$. Thus $\partial f(x) ≠ \O$. And also $\forall y^* \in \partial f(x)$. $\|? x\| ≤ L$. Thus $\partial f(x)$ is bounded, so $\subseteq R(B_{X^*}, w^*)$ for some $R > 0$, which is $w^*$-compact. So since $\partial f(x)$ is $w^*$-closed, it is $w^*$-compact. (It is closed, because $\partial f(x) = \bigcap_{y \in U} \{x^* \in X^* | x^*(y - x) ≤ f(y) - f(x)\}$).

		Finally „$\partial f(x)$ is convex“: For $x^*, y^* \in \partial f(x)$, $\lambda \in (0, 1)$:
		$$ \forall y \in U: (\lambda x^* + (1 - \lambda)y^*) (y - x) ≤ \lambda(f(y) - f(x)) + (1 - \lambda) (f(y) - f(x)) = f(y) - f(x). $$
	\end{dukazin}
\end{tvrzeni}

\begin{tvrzeni}
	$x \in U$. Then following is equivalent:

	\begin{itemize}
		\item $\exists f_G'(x)$;
		\item $|\partial f(x)| = 1$;
		\item $\forall h \in X: \partial_h^+ f(x) = -\partial_{-h}^+ f(x)$.
	\end{itemize}

	Moreover $\partial f(x) = \{f_G'(x)\}$, if one of item is true.

	\begin{dukazin}
		„$1. \implies 2.$“: We have $\forall h \in X: f'_G(x)(h) = \partial_h^+ f(x) \implies f_G'(x) \in \partial f(x)$. Moreover
		$$ \forall x^* \in \partial f(x)\ \forall h \in X: x^*(h) ≤ \partial_h^+ f(x) = f_G'(x)(h) \land -x^*(h) = x^*(-h) ≤ f_G'(x)(-h) = -f_G'(x)(h) \implies x^*(h) = f_G'(x). $$

		„$2. \implies 3.$“: Let $\exists h \in X: \partial_h^+ f(x) ≠ -\partial_{-h}^+ f(x)$. Always holds $\partial_h^+ f(x) ≥ -\partial_{-h}^+ f(x)$ ($\phi(t) = f(x + t·h)$ is convex, then $-\partial_{-h}^+ f(x) = \partial_-'(0) ≤ \partial_+'(0) = \partial_h^+ f(x)$). So $\partial_h^+ f(x) > -\partial_{-h}^+ f(x)$.

		Define $x_1^*(t·h) := t·\partial_h^+ f(x)$ and $x_2^*(t·h) := - t \partial_{-h}^+ f(x)$, $t \in ®R$. Then $x_1^*, x_2^* \in (\LO(h))^*$. And for $j = 1, 2$:
		$$ x_j^*(t·h) ≤ \partial_{t·h}^+ f(x), \qquad t \in ®R. $$
		For $t ≥ 0: x_1^*(t·h) = t \partial_h^+ f(x) = \partial_{t·h}^+ f(x)$. For $t < 0: x_1^*(t·h) = t·x_1^*(h) = t·\partial_h^+f(x) < -t·\partial_{-h}^+ f(x) = \partial_{t·h} f(x)$. Same for $x_2^*$. By Hahn–Banach theorem, we extend $x_j^*$, $j \in \{1, 2\}$ to $x_j^* \in X^{\#}$ satisfying $x_j^*(z) ≤ \partial_z^+ f(x)$, $z \in X$. And because $f$ is locally Lipschitz, similarly as before we have $x_1^*, x_2^* \in X^*$. Thus $x_1^*, x_2^* \in \partial f(x)$ and $x_1^* ≠ x_2^*$.

		„$3. \implies 2.$“: We know $\phi: h \mapsto \partial_h^+ f(x)$ is sublinear and we know $\phi(h) = -\phi(-h)$. This implies, that $\phi$ is linear ($\phi(t·h) = t·\phi(h), t \in ®R$ arbitrary, $\phi(h_1 + h_2) ≤ \phi(h_1) + \phi(h_2)$, $\phi(h_1 + h_2) = -\phi(-h_1 - h_2) ≥ -(\phi(-h_1) + \phi(-h_2)) = \phi(h_1) + \phi(h_2)$). Moreover, $\phi$ is continuous, because $\phi(h) ≤ \phi_h^+ f(x)$ and $f$ is Lipschitz.
	\end{dukazin}
\end{tvrzeni}

\begin{dusledek}
	$f(x) = \|x\|$, $x \in X$. Then $f_G'(x)$ exists $\Leftrightarrow$ $\exists! x^* \in B x^*: x^*(x) = \|x\|$.
\end{dusledek}

TODO? % Examples

% 16. 03. 2023

TODO? % Examples

\begin{dusledek}
	$X = ®R^n$, $U \subset X$ open, $f: U \rightarrow ®R$ convex, $x \in U$. Then $f'_F(x)$ exists $\Leftrightarrow$ $\forall i \in [n]: \frac{\partial f}{\partial x_i}(x)$ exists.

	\begin{dukazin}
		„$\implies$“ ?. „$\impliedby$“:
		$$ x^* \in \partial f(x) \implies x^*(e_i) ≤ \partial_{e_i}^+ f(x) = \frac{\partial f}{\partial x_i}(x) \land x^*(-e_i) ≤ \partial_{-e_i}^+ f(x) = - \frac{\partial f}{\partial x_i}(x) \implies x^*(e_i) = \frac{\partial f}{\partial x_i}(x) \implies $$
		$\implies$ $\partial f(x)$ contains at most one point $\implies$ $f$ contains exactly one point
		$\implies f'_G(x)$ exists $\implies$ (locally Lipschitz, $\dim ®R^n < ∞$) $f'_F(x)$ exists.
	\end{dukazin}
\end{dusledek}

\begin{definice}[Monotone, upper semi-continuous (usc)]
	$X$ Banach space, $D \subset X$, $T: D \rightarrow 2^{x^*}$ is monotone if $\forall x \in D: Tx \subset X^*$, $Tx ≠ \O$ and $\forall x, y \in D\ \forall x^* \in Tx\ \forall y^* \in Ty: \<x^* - y^*, x - y\> ≥ 0$.

	\begin{poznamka}
		$f: (a, b) \rightarrow ®R$ is non-decreasing $\Leftrightarrow$ $\forall x, y \in (a, b): (f(x) - f(y))(x - y) ≥ 0$
	\end{poznamka}

	
	Let $S$ and $T$ be topological spaces. Then $φ: S \rightarrow 2^T$ is usc (upper semi-continuous) $≡$ $\forall U \subset T$ open: $\{x \in S | φ(x) \subset U\}$ is open in $S$.
	
	\begin{poznamka}[This we will not use]
		lsc $≡$ $\forall U \subset T$ open $\{x \in S | φ(x) \cap U ≠ \O\}$ is open.
	\end{poznamka}
\end{definice}

\begin{tvrzeni}
	$X$ Banach space, $U \subset X$ open convex, $f: U \rightarrow ®R$ convex continuous. Then $\partial f: U \rightarrow 2^{X^*}$ is

	\begin{itemize}
		\item[a)] monotone;
		\item[b)] locally bounded;
		\item[c)] usc from $\|·\|$ to $w^*$.
	\end{itemize}

	\begin{dukazin}
		„a)“: $x, y \in U$, $x^* \in \partial f(x)$, $y^* \in \partial f(y)$. Then $x^*(y - x) ≤ f(y) - f(x)$, $y^*(x - y) ≤ f(x) - f(y)$.
		$$ x^*(y - x) + y^*(x - y) ≤ 0, \qquad (x^* - y^*)(x - y) ≥ 0. $$

		„b)“: $f$ is locally Lipschitz:
		$$ x \in U \implies \exists z > 0, L > 0, B(x, z) \subset U, $$
		$f$ is $L$-Lipschitz on $B(x, z)$ $\implies$
		$$ \forall y \in B(x, z): \partial f(y) \subset L·B_{X^*}. $$

		„c)“ $G \subset X^*$ $w^*$-open, $x \in U$, $\partial f(x) \subset G$. We want: „$\exists z > 0: B(x, r) \subset I$ and $\forall y \in B(x, z): \partial f(y) \subset G$“. It's enough to show „$\forall (x_n) \subset U, x_n \rightarrow x, \exists n_0\ \forall n ≥ n_0: \partial f(x_n) \subset G$“.

		We show it by contradiction: Assume not, i.e., $\exists (y_n) \subset U$, $y_n \rightarrow x$, $\forall n: \partial f(y_n) ≠ 0$. Fix $y^*_n \in \partial f(y_n) \setminus G$. By b) we know ? $\implies$ $\exists R > 0: \forall n: y^*_n \in \overline{B(0, R)}$ (in $X^*$).

		Let $y^*$ be a $w^*$ cluster point of $(y^*_n)$. Thus „$y^* \in \partial f(x)$“: If not, $\exists y \in U: y^*(y - x) > f(y) - f(x)$ $\implies ε > 0: y^*(y - x) ≥ f(y) - f(x) + ε$, now $y^*_n(y - x + y_n - y_n) ≤ f(y - x + y_n) - f(y_n)$ ($y - x + y_n \in U$ for large $n$).

		So, for $n$ large enough:
		$$ y^*_n(y - x) ≤ f(y - x + y_n) - f(y_n) $$
		with $n \rightarrow ∞$ $LHS$ has cluster point $y^*(y - x)$ and $RHS \rightarrow f(y) - f(x)$
		$$ \implies y^*(y - x) ≤ f(y) - f(x). \text{ \lightning} $$
		(But $y^* \in X^* \setminus S \land y^* \in \partial f(y) \subset S$.)
	\end{dukazin}
\end{tvrzeni}

% 23. 03. 2023

\begin{definice}[Maximal monotone operator]
	$X$ Banach space, $U \subset X$. $T: U \rightarrow 2^{X^*}$ is maximal monotone operator, if $T$ is monotone and graph $T$ is maximal within graphs of monotone operators on $U$.

	\begin{definicein}
		$graph T := \{(x, x^*) \in U \times X^* | x^* \in T x\}$.

		$T$ monotone: $x, y \in U$, $x^* \in Tx$, $y^* \in Ty$, then $\<x^* - y^*, x - y\> ≥ 0$.

		Maximality: $x \in U$, $x^* \in X^*$, $\forall y \in U\ \forall y^* \in Ty: \<x^* - y^*, x - y\> ≥ 0$, then $x^* \in Tx$.
	\end{definicein}
\end{definice}

\begin{lemma}
	$U \subset X$ open, $T: U \rightarrow 2^{X^*}$ monotone usc $\|·\| \rightarrow w^*$, $\forall x \in U: Tx ≠ \O$, convex, $w^*$-closed. Then $T$ is maximal monotone.

	\begin{dukazin}
		$y \in U$, $y^* \in X^*$, $\forall x \in U\ \forall x \in Tx: \<x^* - y^*, x - y\> ≥ 0$. Assume $y^* \notin Ty$ $\implies$ (by HB) $\exists z \in X: y^*(z) > \sup\<T y, z\>$.

		So $\forall x^* \in Ty$, $x^*(z) < y^*(z)$ $\implies$ $Ty \subset \{z^* \in x^* | z^*(z) < y^*(z)\} =: W$ $w^*$ open.

		$T$ usc $\implies$ $\exists r > 0: B(y, r) \subset U$ and $\forall x \in B(y, r): Tx \subset W$. In particular: if $t > 0$ is small enough, then $y + t·z \in B(y, z)$ and thus $T(y + t·z) \subset W$.

		$w^* \in T(y + t·z) \implies w^*(z) < y^*(z)$ and $t·\<w^* - y^*, z\> = \<w^* - y^*, y + t·z - y\> ≥ 0$. \lightning.
	\end{dukazin}
\end{lemma}

\begin{definice}
	$S$ topological space, $X$ Banach space. $φ: S \rightarrow 2^{X^*}$ is a minimal convex-valued usc if

	\begin{itemize}
		\item $\forall x \in S: φ(x) ≠ \O$, convex, $w^*$-compact;
		\item $φ$ is usco $S \rightarrow w^*$;
		\item $φ$ is minimal among maps satisfying two first conditions (i.e., $φ$ satisfies two first conditions and $ψ(x) \subset φ(x)$ for all $x \in S$ $\implies$ $ψ = φ$).
	\end{itemize}
\end{definice}

\begin{veta}
	$U \subset X$ open convex, $f: U \rightarrow ®R$ convex continuous. Then $\partial f: U \rightarrow 2^{X^*}$ is a maximal monotone operator and a minimal convex valued usco.

	\begin{dukazin}
		From tvrzeni above: $\partial f$ is monotone operator. Assume $T \subset \partial f$ ($\forall x \in U: T(x) \subset \partial f(x)$) is a convex valued onto. Clearly $T$ is monotone. Then from previous lemma $T$ is maximal operator.
	\end{dukazin}
\end{veta}

\begin{tvrzeni}
	$U \subset X$ open convex, $f: U \rightarrow ®R$ convex continuous. Then $f'_F(x)$ exists $\Leftrightarrow$ $\partial f(x)$ is a singleton and $\partial f(x)$ is usc $\|·\| \rightarrow \|·\|$ at $X$ ($\forall G \subset X^*$ $\|·\|$-open, $\partial f(x) \subset G$, $\exists r > 0: B(x, r) \subset U \land \forall y \in B(x, r): \partial f(y) \subset G$).

	\begin{dukazin}
		„$\implies$“: Assume $f'_F(x) =: x^*$. Then we know the $\partial f(x) = \{x^*\}$. Fix $ε>0$. We want $r > 0$ such that $B(x, r) \subset U$ and $\forall y \in B(x, r): \partial f(x) \subset B(x^*, ε)$. By contradiction: Assume there is $(x_n) \subset B$, $x_n \rightarrow x$, $x^*_n \in \partial f(x_n)$, $\|x^*_n - x^*\| > 2ε$. Thus $\exists h_n \in X, \|h_n\| = 1: \<x^*_n - x^*, h_n\> > 2ε$.
		$$ x^* = f'_F(x) \implies \exists \delta > 0: \overline{B(x, \delta)} \subset U\ \forall h \in X, \|h\| ≤ \delta: f(x + h) - f(x) - x^*(h) ≤ ε \|h\|. $$
		$$ x^*_n \in \partial f(x_n) \implies x^*_n(x + δ h_n - x_n) ≤ f(x + δ h_n) - f(x_n) $$
		$$ x_n^*(δ h_n) ≤ f(x + δ h_n) - f(x_n) + x^*_n(x_n - x). $$

		$$ 2εδ < \<x^*_n - x^*, δ h_n\> ≤ f(x + δ h_n) - f(x) + f(x) - f(x_n) - x^*(δ h_n) + x^*_n(x_n - x) ≤ $$
		$$ ≤ εδ + f(x) - f(x_n) + x^*_n(x_n - x) \rightarrow εδ \implies 2εδ ≤ εδ. $$

		„$\impliedby$“: $\partial f(x) = \{x^*\}$ $\implies$ we know that $x^* = f'_G(x)$. We will show: $x^* = f'_F(x)$. $ε > 0 \implies \exists δ > 0: B(x, δ) \subset U \land \forall y \in B(x, δ): \partial f(y) \subset B(x^*, ε)$. $y \in B(x, δ)$, $y^* \in \partial f(y)$. Then $x^*(y - x) ≤ f(y) - f(x)$, $y^*(x - y) ≤ f(x) - f(y)$. So
		$$ 0 ≤ f(y) - f(x) - x^*(y - x) ≤ y^*(y - x) - x^*(y - x) = (y^* - x^*)(y - x) ≤ \|y^* - x^*\|·\|y - x\| ≤ ε·\|y - x\|. $$
		So, $x^* = f'_F(x)$.
	\end{dukazin}
\end{tvrzeni}

\begin{tvrzeni}
	$U \subset X$ open convex, $f: U \rightarrow ®R$ convex continuous. $U_F = \{x \in U | \exists f'_F(x)\}$ is $G_δ$ set and $f'_F: U_F \rightarrow X^*$ is continuous $\|·\| \rightarrow \|·\|$.

	\begin{dukazin}
		$$ U_F = \bigcap_{n \in ®N} \{x \in U | \exists V \text{ a neighbourhood of } x: \diam \bigcup\{\partial f(y) | y \in V\} ≤ \frac{1}{n}\}. $$

		„$\subset$“: $x \in U_F$, $x^* = f'_F(x)$. From previous tvrzeni $\forall n \in ®N\ \exists V$ a neighbourhood of $x$ such that $\forall y \in V: \partial f(y) \subset B(x^*, \frac{1}{2n}) \implies x^* \in RHS$.

		„$\supset$“: $x \in RHS$, $n \in ®N$, $V_n$ ? $\partial f(x) = 0$ $\implies \partial f(x) = \{x^*\}$ and $\forall y \in V_n: \partial f(y) \subset \overline{B(x^*, \frac{1}{n})} \implies x \in U_F$.
	\end{dukazin}
\end{tvrzeni}

\begin{poznamka}
	Continuity of $f'_F$ on $U_F$: „$f'_F = \partial f|_{U_F}$“.
\end{poznamka}

\begin{tvrzeni}
	$U \subset X$ open convex, $f: U \rightarrow ®R$ convex continuous, $U_G = \{x \in U | \exists f'_G(x)\}$. Then

	\begin{itemize}
		\item $X$ separable $\implies$ $U$ is $G_δ$;
		\item $f'_G: U_G \rightarrow X^*$ is continuous $\|·\| \rightarrow w^*$.
	\end{itemize}

	\begin{dukazin}
		$$ U_G = \{x \in U | |\partial f(x)| = 1\}. $$
		$x \in U_G \implies \partial f(x) = \{f'_G(x)\}$. We know the $\partial f$ is usc $\|·\| \rightarrow w^*$. Thus the restriction to $U_G$ is continuous $\|·\| \rightarrow w^*$.
	\end{dukazin}
\end{tvrzeni}

% 30. 03. 2023

TODO!!!

% 06. 04. 2023

\begin{tvrzeni}
	$M$ a topological space (usually Baire), $X$ Banach space.

	\begin{itemize}
		\item If $Φ: M \rightarrow 2^{X^*}$ is usco (to $w^*$ topology), then $ψ(m) = \overline{\conv}^{w^*} Φ(m)$, $m \in M$, is also usco.

		\item If $Ψ: M \rightarrow 2^{X^*}$ minimal convex-valued usco, $Φ: M \rightarrow 2^{X^*}$ minimal usco, $Φ \subset Ψ$. Then $\forall m \in M: (|Φ(m)| = 1 \Leftrightarrow |Ψ(m)| = 1)$.
	\end{itemize}

	\begin{dukazin}
		Clearly for $m \in M$: $Φ(m) ≠ \O$, $ψ(m)$ convex and $w^*$-compact.

		„$ψ$ is usco“: $U \subset X^*$ $w^*$-open, $m \in M$, $ψ(m) \subset U$ $\implies$ $\exists V$ $w^*$-open: $ψ(m) \subset V \subset \overline{V}^{w^*} \subset U$ (by regularity of $w^*$ topology).
		$x^* \in ψ(m) \implies \exists H$ TODO!!! % Fotka

		„Second item“: „$\impliedby$“ obvious. „$\implies$“: TODO!!! % Fotka
	\end{dukazin}
\end{tvrzeni}

\begin{tvrzeni}
	$X$ is a Banach space, $X^*$ separable, $M$ a Baire topological space, $Φ: M \rightarrow 2^{X^*}$ minimal convex-valued usco. Then $G := \{m \in M\ |\ |Φ(m)| = 1 \land Φ \text{ is usco to $\|·\|$ at } x\}$ is a dense $G_δ$ subset of $M$.

	\begin{dukazin}
		$$ A_n = \{m \in M | \forall U \text{ neighbourhood of } m: \diam Φ(U) > \frac{1}{n}\} $$
		$\implies$ $A_n$ is closed in $M$ and $M \setminus \bigcup_n A_n = G$.

		We will check that each $A_n$ is meager (first category). $\{x^*_k, k \in ®N\}$ dense in $X^*$, $A_{n, k} := \{m \in A_n | \dist(Φ(m), x^*_k) < \frac{1}{8n}\}$ $\implies$ $A_n = \bigcup_{k \in ®N} A_{n, k}$. We will show that each $A_{n, k}$ is nowhere dense.

		Fix $n, k$, $m \in A_{n, k}$, $U$ neighbourhood of $m$. Choose $n^* \in Φ(m)$ with $\|m^* - x_k^*\| < \frac{1}{8n}$. $m \in A_n \implies \exists z_1, z_2 \in U, z^*_1 \in Φ(z_1), z^*_2 \in Φ(z_2), \|z^*_1 - z^*_2\| > \frac{1}{2n} - \frac{1}{8n} > \frac{1}{4n}$ $\implies \exists x \in X$, $\|x\| = 1$, $\<z^* - x^*_k, x\> > \frac{1}{4n}$.

		Hence $\<z^*, x\> > \<x^*_k, x\> + \frac{1}{4n}$.

		$U$ is neighbourhood of $z$. $\implies \exists v \in U: \forall v^* \in φ(V): \<v^*, x\> > \<x^*_k, x\> + \frac{1}{4n}$.

		Assume not, i.e., $\forall v \in U$:
		$$ φ(v) \cap \{y^* | y^*(x) ≤ x^*_k(x) + \frac{1}{4n}\} ≠ \O. $$
		Define $\tilde φ(m)' := φ(m)·?$, $m \in U$ and $φ(m)$, $m \in M \setminus U$. Assume the proof of P1, $\tilde φ$ is a convex-valued usco, $\tilde φ \subset φ$ $\implies$ $\tilde φ = φ$ $\implies$
		$$ \forall v \in U: φ(v) \subset \{y^* | y^*(x) ≤ x^*_k(x) + \frac{1}{4n}\} $$
		but this fault. \lightning.

		We get $v \in U$:
		$$ φ(v) \subset \{y^* | y^*(x) > x^*_k(x) + \frac{1}{4n}\} \text{ $w^*$-open} $$
		$\overset{\text{$φ$ is usco}}\implies$ $\exists V$, a neighbourhood of $v$, $V \subset U$,
		$$ φ(V) \subset \{y^* | y^*(x) > x^*_k(x) + \frac{1}{4n}\}. $$

		Then $V \cap A_{n, k} = \O$. ($w \in V \implies \forall w^* \in φ(w): \|w^* - x^*_k\| ≥ \<w^* - x^*_k, x\> > \frac{1}{4n} \implies \dist(φ(w), x^*_k) ≥ \frac{1}{4n} > \frac{1}{8n}$.)

		So $A_{n, m}$ is nowhere dense, hence $A_n$ are meager. Thus $\bigcup_n A_n$ is meager, hence $M \setminus \bigcup_n A_n$ is dense ($G_δ$ as? are closed).
	\end{dukazin}
\end{tvrzeni}

\begin{veta}
	$X$ a separable Banach space, $X$ is Asplud? $\Leftrightarrow$ $X^*$ is separable.

	\begin{dukazin}
		„$\impliedby$“ Proposition above aplied to $\partial f$.

		„$\implies$“ $X$ separable, $X^*$ not separable. The $B_{X^*}$ is nonseparable $\implies$ $\exists M_0 \subset B_{X^*}$ uncountable such that $\exists ε > 0$ $\forall m_1, m_2 \in M_0$ $m_1 ≠ m_2$, $\|m_1 - m_2\| > ε$.

		$(B_{X^*}, w^*)$ is compact metrizable $\implies$ $\exists M \subset M_0$ uncountable with $w^*$ isolated points.

		$$ U = \{TODO!!!\} $$
		TODO!!! % Fotka
	\end{dukazin}
\end{veta}

\end{document}
